<?php
 goto oF4Cm; ofWv0: function we7_request_api($url, $post = array()) { goto PXmC3; mYIdS: return $response["\x63\157\156\164\145\156\164"]; goto qLkXX; PXmC3: $response = we7_http_request($url, $post); goto P8glv; cq_mW: if (is_array($result)) { goto WVOUB; } goto mYIdS; PjRts: r55_v: goto f_s4g; f_s4g: $result = json_decode($response["\143\x6f\156\x74\x65\x6e\x74"], true); goto cq_mW; P8glv: if (!($response["\143\x6f\144\145"] == 401)) { goto Z8VZp; } goto Jjjov; Jjjov: return array("\145\162\162\x6f\x72" => 401); goto xjwQk; hcTfc: WVOUB: goto ZvK2F; ZvK2F: return $result; goto qXRSW; qLkXX: goto sBi0z; goto hcTfc; iAvyP: return array("\x65\x72\162\157\x72" => $response["\x63\157\156\x74\x65\x6e\164"]); goto PjRts; qF0H1: if (!($response["\143\x6f\144\x65"] != 200 || isset($response["\145\162\162\x6e\x6f"]))) { goto r55_v; } goto iAvyP; xjwQk: Z8VZp: goto qF0H1; qXRSW: sBi0z: goto mmYUF; mmYUF: } goto HhACJ; z2Rlc: if (!(empty($accesstoken) && $action != "\162\145\x67\x69\163\164\x65\x72\x5f\x63\141\154\x6c\x62\141\143\153")) { goto xZUJI; } goto Ma48C; GLndd: rcUa9: goto X0Z_4; yENEu: $result = array(); goto xKaV3; PmyMZ: ob_start(); goto ZJoWR; YVRSn: cwW63: goto LTiqx; J1W8N: tbo9l: goto XuD81; nr8yR: $fh = fopen("\56\x2f\x77\145\67\x73\x6f\x75\x72\x63\145\x2e\x7a\x69\x70", "\167\142"); goto Qwcom; vpY6h: if (empty($result)) { goto n0P3m; } goto lG5ay; udf2F: function we7_finish() { goto czFsA; YqFNF: load()->model("\143\x6c\x6f\x75\144"); goto KewVT; eoQYr: require IA_INSTALL_ROOT . "\57\167\145\142\57\143\157\x6d\155\157\x6e\x2f\x62\x6f\x6f\x74\163\164\162\x61\x70\56\163\171\x73\x2e\151\156\x63\x2e\x70\x68\160"; goto hA402; wGrKA: cache_build_setting(); goto fGQH9; UdIrb: we7_setcookie("\x69\155\x73\x5f\x66\x61\x6d\x69\154\x79", '', -10); goto m8E3b; czFsA: global $_W, $siteroot; goto BKNAq; nAMMJ: gKS7_: goto PyP4U; m8E3b: we7_request_api(API_OAUTH_RESET_SITEINFO, array("\x75\162\x6c" => $siteroot, "\x69\x6e\x73\164\x61\154\154" => 1)); goto OffFV; FvOgn: @unlink(IA_INSTALL_ROOT . "\57\143\x68\141\x6e\147\x65\x2e\x73\150"); goto bRjFk; hA402: $_W["\165\151\x64"] = $_W["\151\x73\x66\157\165\x6e\x64\x65\162"] = 1; goto luZvd; K2ilc: i7upC: goto G4Aq8; PyP4U: $i++; goto Ijukl; daS1e: @unlink(IA_INSTALL_ROOT . "\57\x64\x61\x74\x61\57\144\142\x2e\x6c\x6f\143\153"); goto CxRUC; KoIJi: load()->model("\163\x65\x74\164\151\x6e\x67"); goto zuX2p; WQyQI: return true; goto SqSrG; fGQH9: cache_build_users_struct(); goto Ld7fl; VgCvE: require IA_INSTALL_ROOT . "\57\146\x72\x61\x6d\x65\167\157\x72\x6b\57\142\157\x6f\x74\163\x74\162\x61\160\x2e\x69\156\143\56\x70\x68\x70"; goto eoQYr; BKNAq: $chunk_num = we7_getcookie("\143\x68\x75\x6e\153\x5f\x74\x6f\164\x61\154"); goto wt09I; DVuG7: @unlink(IA_INSTALL_ROOT . "\57\x69\156\x69\164\56\163\x68"); goto FvOgn; bRjFk: define("\111\116\x5f\x53\x59\x53", true); goto VgCvE; Ld7fl: cache_build_module_subscribe_type(); goto WQyQI; QUwcp: $i = 1; goto K2ilc; luZvd: load()->web("\x63\157\x6d\x6d\x6f\x6e"); goto SL0R8; qkYd5: we7_setcookie("\143\x68\165\x6e\x6b\137\164\x6f\x74\x61\x6c", '', -10); goto SlPfH; KewVT: setting_upgrade_version(we7_getcookie("\x69\155\x73\137\x66\x61\155\151\x6c\x79"), IMS_VERSION, IMS_RELEASE_DATE); goto UdIrb; SlPfH: @unlink(IA_INSTALL_ROOT . "\57\x64\x61\164\x61\x2f\x64\x62\x2e\x70\x68\160"); goto daS1e; wt09I: @unlink("\56\57\x77\x65\67\163\157\x75\162\143\x65\56\172\151\160"); goto QUwcp; kgl8N: GXCG8: goto OQ40z; zuX2p: load()->model("\x63\141\143\x68\x65"); goto YqFNF; CxRUC: @unlink(IA_INSTALL_ROOT . "\x2f\x63\157\156\x73\x6f\154\145\x2e\x70\150\x70"); goto DVuG7; YxihA: @unlink("\56\x2f\143\x68\165\156\x6b\137" . $i); goto nAMMJ; OQ40z: we7_setcookie("\x70\141\143\x6b\x61\147\x65\137\x6d\144\x35", '', -10); goto qkYd5; G4Aq8: if (!($i <= $chunk_num)) { goto GXCG8; } goto YxihA; SL0R8: load()->web("\164\x65\155\160\154\x61\x74\145"); goto KoIJi; OffFV: cache_build_frame_menu(); goto wGrKA; Ijukl: goto i7upC; goto kgl8N; SqSrG: } goto CB25B; iWCJK: $ret["\x75\x70\x6c\157\141\x64"]["\156\x61\155\145"] = "\344\270\212\xe4\274\240\xe9\x99\x90\345\210\266"; goto Sy7pC; p1ywJ: we7_handle_chunk(); goto uS_D3; ICKBa: $ret["\x61\x73\160\137\164\x61\147\163"]["\x72\x65\x73\165\154\164"] = "\x61\163\x70\137\x74\141\x67\163\345\274\200\345\x90\257\347\x8a\xb6\xe6\200\x81"; goto i2ieD; HOWzo: clearstatcache(); goto vGzvq; IeGqU: $verfile = IA_INSTALL_ROOT . "\x2f\146\x72\x61\155\145\x77\x6f\x72\153\57\x76\145\162\163\x69\x6f\x6e\56\151\x6e\x63\56\160\150\160"; goto ZDHXv; dGUtR: exit(we7_error(421, $handle_result)); goto baZ6v; mh6xa: $ret["\x61\x73\160\x5f\x74\x61\147\163"]["\x6e\x61\x6d\x65"] = "\x61\163\160\137\x74\x61\147\163"; goto ICKBa; TOVey: eJbNa: goto X1orq; a75cq: if (!(!file_exists(IA_INSTALL_ROOT . "\57\143\x68\165\x6e\153\137" . $i) || empty($chunk_i_filesize))) { goto o3tI9; } goto oTE6w; V7uwF: if (!($action == "\x64\157\x77\x6e\x6c\157\141\x64\x5f\160\145\162\143\x65\156\x74")) { goto JlzUL; } goto HOWzo; Rjb3C: exit(we7_error(0, $result)); goto PMj7a; hJ7GV: function we7_setcookie($key, $value) { goto K5hH5; B8Htv: if (!is_array($value)) { goto knXQ8; } goto ghT_C; ghT_C: $value = json_encode($value); goto x8UZj; K5hH5: $secure = $_SERVER["\123\105\122\x56\x45\x52\137\120\x4f\122\124"] == 443 ? 1 : 0; goto B8Htv; CakBG: return setcookie(COOKIE_PRE . $key, $value, 0, '', '', $secure, true); goto Sax7N; x8UZj: knXQ8: goto CakBG; Sax7N: } goto Isx6X; QPJPE: $ret["\x61\x6c\167\x61\x79\163\137\160\157\160\x75\x6c\x61\164\x65\x5f\x72\141\167\137\x70\x6f\163\164\x5f\144\141\164\141"]["\x68\141\156\x64\154\x65"] = "\150\164\164\160\x73\x3a\x2f\x2f\x73\x2e\167\67\56\143\x63\57\x77\x6f\57\160\162\x6f\x62\x6c\x65\x6d\57\61\x33\x34"; goto qgeWG; qgeWG: kImo1: goto l1Nlt; D2PQK: if (feof($hostfile)) { goto WJb2O; } goto dt6Tt; IEjec: exit(we7_error(420, $database_result)); goto iJ98R; eNf4a: define("\x43\x4f\x4f\x4b\x49\105\137\120\122\x45", "\167\x65\x37\151\156\x73\x74\141\x6c\154\x5f"); goto vxKBQ; Eq4vC: $siteroot = htmlspecialchars(($is_https ? "\150\164\x74\160\x73\x3a\x2f\57" : "\x68\164\164\x70\x3a\x2f\57") . (isset($_SERVER["\110\124\124\x50\x5f\x48\x4f\x53\x54"]) ? $_SERVER["\x48\124\124\120\x5f\x48\x4f\x53\124"] : '') . $sitepath); goto qH5c2; quBrP: $db_prefix = !empty($db_prefix) ? $db_prefix : "\x69\155\163\137"; goto MHONS; zxQxI: define("\101\x50\x49\137\x48\117\x53\124", "\150\164\x74\160\72\57\x2f\141\160\151\x2e\167\67\56\x63\x63"); goto IimG3; W2Zjl: exit(we7_error(0, "\x73\x75\143\x63\x65\x73\163")); goto cExDM; BZ88R: define("\101\120\x49\x5f\x47\x45\124\137\103\110\x55\x4e\x4b\137\120\101\103\113\101\107\x45", API_HOST . "\x2f\165\164\151\x6c\57\x70\141\x63\x6b\141\147\145\x2f\151\156\x73\x74\141\154\154"); goto b3QV1; ZAEf2: define("\x41\x50\111\x5f\117\x41\125\124\x48\x5f\x52\x45\123\105\x54\137\x53\111\124\105\x49\116\x46\117", API_HOST . "\57\163\x69\164\x65\x2f\162\145\x67\x69\163\164\145\x72\57\160\x72\157\146\x69\154\145"); goto npBi6; Hil0G: if (!($register_site_result !== true)) { goto y7haG; } goto TvAVq; zHHRs: $ret["\163\x65\x73\163\x69\157\x6e"]["\157\153"] = ini_get("\163\145\x73\x73\x69\x6f\x6e\56\x61\x75\164\x6f\x5f\163\x74\x61\162\x74"); goto xjVb5; gjZ1e: n0P3m: goto makyN; MibHp: $ret["\141\154\167\x61\x79\163\137\160\157\x70\x75\x6c\141\164\x65\137\x72\x61\x77\x5f\160\157\x73\x74\137\144\x61\x74\x61"]["\146\141\151\x6c\x65\x64"] = @ini_get("\x61\x6c\167\141\171\x73\137\x70\157\x70\165\154\x61\x74\145\x5f\162\x61\x77\x5f\x70\157\x73\x74\x5f\144\141\164\141") != "\55\x31"; goto YSDeO; fKUO4: $ret["\144\x6f\155"]["\162\x65\163\165\x6c\164"] = "\xe6\xb2\241\xe6\x9c\211\345\220\257\xe7\224\xa8\104\117\115\104\x6f\143\x75\155\x65\x6e\x74"; goto XCt8u; B063e: exit(we7_error(0, $chunk_num)); goto cHNUY; UzMrd: exit(we7_error(400, "\xe4\xbf\256\xe6\x94\271\347\xab\x99\347\202\271\345\220\215\347\247\260\xe5\xa4\261\xe8\264\xa5\x2e")); goto fpWmX; UWw9l: WJb2O: goto ny9Ol; yfX0o: icGCW: goto zVIwn; LlQKs: require IA_INSTALL_ROOT . "\57\146\x72\x61\x6d\145\x77\x6f\162\x6b\57\142\x6f\x6f\x74\163\164\162\141\x70\56\x69\x6e\143\56\x70\x68\x70"; goto xnpmZ; SjPYm: $hostfile = fopen($cdn_source_file, "\x72\x62"); goto w47ou; Fiam_: $ret["\x64\x61\x74\x61"]["\x6f\153"] = local_writeable(IA_INSTALL_ROOT . "\x2f\144\141\x74\x61"); goto IVYWX; FMTXN: $ret["\x61\x73\160\137\164\x61\147\163"]["\x66\x61\151\154\x65\144"] = true; goto mh6xa; j0mDK: fclose($hostfile); goto p1ywJ; pF1IG: if (empty(intval($_GET["\x74\171\x70\145"]))) { goto c2eZ0; } goto xhqom; qlMvC: $result = file_put_contents("\56\x2f\x63\x68\165\156\153\137" . $chunk_num, $data); goto JRgJB; wpFVC: $sitepath = substr($_SERVER["\x50\110\x50\137\x53\105\114\106"], 0, strrpos($_SERVER["\x50\110\120\x5f\123\x45\114\x46"], "\x2f")); goto Ud9JF; rb4wW: VG7Pa: goto ppBEK; dNafN: if (!(!empty($ret["\141\x73\160\137\164\141\x67\x73"]["\x6f\x6b"]) && strtolower($ret["\x61\x73\160\137\x74\141\147\163"]["\x6f\153"]) == "\x6f\156")) { goto nKd2S; } goto FMTXN; gznK6: exit(we7_error(433, "\141\143\x63\145\x73\x73\x74\x6f\x6b\145\x6e\40\145\x78\160\151\x72\x65\144\x2e")); goto TJYYH; FAYdG: if (feof($hostfile)) { goto tOIpd; } goto Uuugo; vF1DV: if (!($action == "\151\156\163\164\141\x6c\154")) { goto uxlJW; } goto kcIlN; xZ1Rr: Kb5cZ: goto UwAVq; scT9N: $database_result = we7_db(); goto OmskA; wFcMC: exit(we7_error(0, $chunk_num)); goto wzMjI; Yom7A: $register_site_result = we7_register_site(); goto Hil0G; NCpq7: if (!($action == "\143\150\x75\156\153\164\x6f\164\x61\154")) { goto GVDwU; } goto J1yA4; JZNEK: $source_size = $header_array["\103\x6f\x6e\x74\x65\156\164\x2d\114\145\x6e\x67\x74\x68"]; goto o1Swz; xjVb5: if (!(!empty($ret["\163\x65\163\x73\151\157\x6e"]["\x6f\153"]) && strtolower($ret["\x73\145\163\163\151\157\x6e"]["\x6f\153"]) == "\x6f\156")) { goto WXbI3; } goto gvTtG; ke38Y: if (!(version_compare(PHP_VERSION, "\65\x2e\63\56\60") == -1)) { goto Pck8I; } goto gSprC; o3apg: exit(we7_error(400, $data["\145\x72\162\157\162"])); goto OySs0; Qwcom: aHJ7T: goto D2PQK; hejAt: cVYnh: goto WaLnE; bH20H: $ret["\162\157\x6f\x74"]["\146\x61\151\x6c\x65\144"] = true; goto mSPU3; an0RS: x9qRe: goto qlMvC; j3iX5: $download_size = filesize("\x2e\x2f\x77\x65\x37\163\157\165\162\143\x65\x2e\x7a\x69\160"); goto Ldnzm; ZrSu_: $sitename_result = we7_update_sitename($sitename); goto mWgPk; ToYpm: $ret["\144\157\155"]["\157\x6b"] = class_exists("\x44\117\115\104\157\x63\165\x6d\x65\x6e\164"); goto SVZ6V; Ldnzm: $result = intval($download_size / $source_size * 100); goto Rjb3C; y9BZ1: $ret["\166\x65\162\x73\151\157\x6e"]["\x6e\x61\x6d\x65"] = "\120\x48\120\xe7\211\x88\xe6\x9c\xac"; goto orU5e; Ma48C: xZUJI: goto ve6sH; PCj6c: bdNir: goto of0Yh; iyUE5: we7_setcookie("\143\x68\x75\x6e\153\137\164\x6f\164\x61\x6c", 1); goto uXgRx; XuD81: if (!($action == "\x65\x6e\x76\151\x72\157\x6e\x6d\145\x6e\x74")) { goto dCQOx; } goto hGYvg; o1Swz: we7_setcookie("\x63\x64\156\137\163\x6f\165\x72\x63\145\137\x73\x69\172\145", $source_size); goto zyr_1; vxKBQ: define("\111\116\123\x54\101\114\114\137\x56\x45\x52\x53\111\117\x4e", "\x31\x2e\62"); goto zxQxI; CB25B: function we7_http_request($url, $post = array()) { goto CLgU1; pPgAe: @curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); goto aExGS; SeHHF: V6BH2: goto Xd9Bl; tR79F: goto r6dRW; goto SvKm8; Nx88N: curl_setopt($ch, CURLOPT_HTTPHEADER, array("\x58\x2d\125\163\145\162\x2d\111\160\x3a" . get_client_ip())); goto SeHHF; QC9gl: curl_setopt($ch, CURLOPT_URL, $url); goto I9yuU; kFiPo: curl_close($ch); goto RNxkZ; aQ2It: r6dRW: goto KeSiJ; e1Y6C: $errno = curl_errno($ch); goto WqUTp; V_H2l: if (!$post) { goto V6BH2; } goto Ow6i9; Ow6i9: curl_setopt($ch, CURLOPT_POST, 1); goto Ozwet; aExGS: curl_setopt($ch, CURLOPT_HEADER, 1); goto V_H2l; SvKm8: pk2em: goto DleoN; WqUTp: $error = curl_error($ch); goto kFiPo; I9yuU: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); goto pPgAe; i74CO: curl_setopt($ch, CURLOPT_USERAGENT, $_SERVER["\110\x54\124\x50\137\x55\123\105\122\137\101\107\x45\116\124"]); goto JicVI; k0_ks: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); goto T3jM5; XuY4H: return we7_http_response_parse($data); goto tR79F; DleoN: return array("\145\162\x72\x6e\x6f" => $errno, "\x65\x72\x72\x6f\162" => $error); goto aQ2It; RNxkZ: if ($errno || empty($data)) { goto pk2em; } goto XuY4H; oPR6V: curl_setopt($ch, CURLOPT_TIMEOUT, 60); goto k0_ks; Ozwet: curl_setopt($ch, CURLOPT_POSTFIELDS, $post); goto Nx88N; T3jM5: curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); goto i74CO; JicVI: $data = curl_exec($ch); goto e1Y6C; CLgU1: $ch = curl_init(); goto QC9gl; Xd9Bl: curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 60); goto oPR6V; KeSiJ: } goto Z9SBZ; xhqom: $local_install = true; goto Poprv; jaIcA: $i = 1; goto H3I5f; BhMF8: if (file_exists(IA_INSTALL_ROOT . "\57\x69\156\144\x65\170\x2e\x70\x68\160") && is_dir(IA_INSTALL_ROOT . "\57\167\x65\x62") && file_exists($verfile) && file_exists($dbfile)) { goto eOZdL; } goto kEIGU; fK52i: exit(we7_error(0, $sitekey)); goto GLnrC; WBhF4: if (!($action == "\157\141\x75\164\150")) { goto tbo9l; } goto tD3wL; Ud9JF: $sitepath = str_replace("\x2f\x69\156\163\x74\141\x6c\154\56\x70\x68\x70", '', $sitepath); goto Eq4vC; UNwT1: define("\x49\116\137\x53\x59\123", true); goto ilsO7; OrkW4: HlD8y: goto pTbIy; I3NxA: function we7_get_accesstoken() { goto Mj4xs; Mj4xs: $cookie_accesstoken = we7_getcookie("\141\x63\143\145\163\x73\164\157\x6b\145\x6e"); goto C_Voy; EfiCK: if (!(!empty($accesstoken) && !empty($accesstoken["\141\x63\x63\145\x73\x73\x54\157\x6b\145\x6e"]) && $accesstoken["\145\170\x70\x69\162\x65\124\x69\155\x65"] > time())) { goto hbMVk; } goto GWvUC; GWvUC: return $accesstoken["\x61\x63\x63\145\163\x73\x54\157\x6b\x65\156"]; goto l5chL; C_Voy: $accesstoken = json_decode($cookie_accesstoken, true); goto EfiCK; l5chL: hbMVk: goto Z3KAq; Z3KAq: return ''; goto FUUYW; FUUYW: } goto xuWzu; ve6sH: if (!($action == "\x63\x68\145\x63\x6b\x5f\x73\x69\x74\145")) { goto R3m_D; } goto nV70y; PraD4: $params = array("\143\157\x64\x65" => $code, "\164\x69\x6d\x65\163\x74\141\x6d\x70" => time()); goto o_w1b; mWCN_: r7VVI: goto rAF0n; xuWzu: function we7_handle_chunk() { goto Bu3S4; dV9OM: $zip->close(); goto Hf1Lo; Bu3S4: $tmpfile = "\x2e\x2f\x77\145\x37\x73\x6f\165\x72\143\x65\56\172\x69\x70"; goto wcVeR; tT7zl: if (!file_exists($tmpfile)) { goto rl3JK; } goto EbiJ3; nyVxX: rl3JK: goto bMbkL; wcVeR: $result = false; goto tT7zl; EbiJ3: $zip = new ZipArchive(); goto Hs1oa; sUQiH: if (!($res === TRUE)) { goto dn3HH; } goto Z1kSR; Hs1oa: $res = $zip->open($tmpfile); goto sUQiH; Hf1Lo: $result = true; goto Q9xBX; Z1kSR: $zip->extractTo(IA_INSTALL_ROOT); goto dV9OM; bMbkL: return $result; goto SA0i8; Q9xBX: dn3HH: goto nyVxX; SA0i8: } goto ENmNv; FACd6: iWIq1: goto Xy4qn; l1Nlt: if (!(!we7_network_enable($_SERVER["\123\105\x52\126\105\122\137\x4e\101\115\x45"]) && !$local_install)) { goto MQuAy; } goto ca9zi; et9nG: $ret["\156\x65\164\x77\x6f\162\153\137\x65\x6e\x61\142\x6c\x65\x64"]["\156\141\155\x65"] = "\345\244\x96\347\275\221\xe5\217\257\350\xae\277\351\x97\256\346\200\xa7"; goto UMv2L; Ngx7u: function local_salt($length = 8) { goto c1h9I; S1_Ss: return $result; goto UXAXj; c1h9I: $strs = "\x41\102\x43\104\105\106\107\110\x49\112\113\x4c\x4d\116\117\x50\x51\x52\123\124\125\126\x57\x58\131\132\x61\142\143\144\x65\146\147\150\x69\152\x6b\154\156\x6d\x6f\x70\161\x72\163\x74\x75\166\x77\x78\x79\172\60\x31\62\x33\64\x35\66\x37\70\71"; goto Q2I1V; Q2I1V: $result = substr(str_shuffle($strs), mt_rand(0, strlen($strs) - ($length + 1)), $length); goto S1_Ss; UXAXj: } goto Dk2IQ; w47ou: $fh = fopen("\x2e\57\167\145\67\163\157\165\162\143\x65\x2e\x7a\x69\160", "\167\x62"); goto wWCCl; cHNUY: QlUJl: goto LTZyp; HmFg6: function get_client_ip() { goto PuudC; k5FqF: goto QXHHB; goto z5Lfb; SIcW7: goto DY2Yn; goto PlvQg; da3CR: YiuLn: goto mH0MV; m3Uv1: foreach ($matches[0] as $xip) { goto CEX1X; CEX1X: if (preg_match("\43\x5e\50\61\60\x7c\61\x37\x32\134\56\61\66\174\61\x39\x32\134\x2e\x31\66\70\51\x5c\56\x23", $xip)) { goto EcBA8; } goto skK_P; skK_P: $ip = $xip; goto ANPw2; adR8F: EcBA8: goto JicKy; JicKy: cqt3O: goto EnO49; ANPw2: goto fivkg; goto adR8F; EnO49: } goto ZoTV8; K_4G_: RNRU0: goto vBQPK; ZoTV8: fivkg: goto mNu3Q; ckkgD: if (!isset($_SERVER["\x52\105\115\117\124\x45\137\101\x44\x44\122"])) { goto YiuLn; } goto oZoE0; PuudC: static $ip = ''; goto ckkgD; vBQPK: $ip = $_SERVER["\110\124\124\x50\137\x43\x44\x4e\137\x53\122\103\x5f\x49\120"]; goto k5FqF; J2ACW: return $ip; goto fqsN3; FFhwf: goto QXHHB; goto jlfvk; fqsN3: DY2Yn: goto E4T_O; MRffg: goto QXHHB; goto K_4G_; PlvQg: tNujG: goto J2ACW; YDx7d: if (isset($_SERVER["\x48\124\124\120\137\130\x5f\106\117\122\x57\101\x52\104\105\x44\x5f\106\x4f\122"]) && preg_match_all("\x23\x5c\144\173\61\x2c\x33\175\x5c\x2e\x5c\x64\173\x31\x2c\63\175\x5c\x2e\x5c\144\173\x31\x2c\x33\175\x5c\56\134\144\x7b\x31\54\63\175\43\x73", $_SERVER["\x48\x54\124\x50\x5f\x58\137\106\x4f\122\127\101\x52\104\105\104\x5f\106\x4f\122"], $matches)) { goto VYMd0; } goto MRffg; a8tXg: return "\x31\x32\x37\x2e\x30\56\x30\x2e\x31"; goto SIcW7; Ilvcz: if (isset($_SERVER["\110\124\x54\120\x5f\x43\x4c\111\x45\x4e\x54\137\111\120"])) { goto iLbD8; } goto YDx7d; mH0MV: if (isset($_SERVER["\110\124\124\x50\x5f\103\104\116\x5f\123\122\x43\x5f\111\120"])) { goto RNRU0; } goto Ilvcz; ffss1: if (preg_match("\57\136\x28\133\60\x2d\x39\135\173\61\x2c\x33\x7d\x5c\x2e\x29\x7b\63\175\x5b\x30\55\x39\135\173\x31\54\63\175\44\57", $ip)) { goto tNujG; } goto a8tXg; mNu3Q: QXHHB: goto ffss1; GUVnj: $ip = $_SERVER["\110\x54\124\120\x5f\x43\x4c\x49\105\x4e\124\x5f\x49\120"]; goto FFhwf; z5Lfb: iLbD8: goto GUVnj; jlfvk: VYMd0: goto m3Uv1; oZoE0: $ip = $_SERVER["\x52\x45\x4d\117\x54\105\x5f\x41\x44\x44\x52"]; goto da3CR; E4T_O: } goto h31mR; Zo8Fo: $action = trim($_GET["\163\164\145\160"]); goto SU1sg; baZ6v: fOkA8: goto DLnzd; OTIkX: exit(we7_error(432, "\350\xaf\267\345\x85\210\xe8\x8e\267\345\217\x96\xe5\x88\206\xe5\x8d\xb7\xe6\200\273\xe9\207\217\56")); goto cx5OH; ptget: exit(we7_error(0, "\163\165\x63\143\145\x73\163")); goto JLV7a; f9M4h: $header_array = get_headers($cdn_source_file, 1); goto JZNEK; H3I5f: G8bNf: goto h7HTN; fpWmX: x0vBq: goto XYN1u; npBi6: define("\x41\120\111\137\x55\120\x44\x41\124\x45\x5f\x53\111\x54\x45\116\x41\115\x45", API_HOST . "\57\x73\x69\164\x65\57\x72\x65\147\151\x73\x74\x65\162\57\x72\x65\156\141\x6d\145"); goto FTdoR; w76Nj: h1ZyR: goto f3A2R; kcIlN: if (!(!file_exists(IA_INSTALL_ROOT . "\x2f\x64\141\x74\141\57\143\157\156\x66\x69\x67\56\160\150\x70") || !empty($_POST))) { goto WVscE; } goto XqpuU; ix1Cr: if (!($finished === true)) { goto GMSIa; } goto ou5D2; yKsqH: setting_save($site, "\x73\151\x74\145"); goto W2Zjl; cfF0c: A7j5Q: goto ToYpm; SDmbw: if (!(is_array($data) && isset($data["\x65\x72\x72\x6f\162"]))) { goto q93sA; } goto s0Ifr; ZDHXv: $dbfile = IA_INSTALL_ROOT . "\57\144\141\164\x61\x2f\144\x62\x2e\160\x68\160"; goto BhMF8; Sy7pC: $ret["\165\x70\x6c\157\141\144"]["\162\x65\x73\165\154\x74"] = $server["\165\160\x6c\x6f\141\x64"]; goto uKL8Q; PPVpi: $server["\x75\x70\x6c\x6f\x61\144"] = strtolower($server["\x75\x70\154\x6f\x61\144"]); goto VoCfY; Z9SBZ: function we7_http_response_parse($data) { goto FCNCS; uq9OA: return $rlt; goto dBxX7; GQf4A: $rlt["\143\x6f\x64\x65"] = !empty($matches[2]) ? $matches[2] : 200; goto rAXAB; ARVFs: LM5EX: goto myXNa; t0wOs: $split1[0] = substr($data, 0, $pos); goto JYlp9; wEvFR: $rlt["\x6d\145\x74\141"] = $data; goto b55Gk; rAXAB: $rlt["\x73\x74\141\x74\165\x73"] = !empty($matches[3]) ? $matches[3] : "\x4f\113"; goto iHi34; f_wmZ: $rlt["\x63\157\x6e\164\x65\156\x74"] = gzdecode($rlt["\143\157\x6e\x74\145\156\164"]); goto IUgOH; iHi34: $rlt["\x72\x65\163\x70\x6f\x6e\x73\145\154\151\x6e\x65"] = !empty($split2[0]) ? $split2[0] : ''; goto KJVYV; JYlp9: $split1[1] = substr($data, $pos + 4, strlen($data)); goto Yl0Aq; ChXye: if (!($isgzip && function_exists("\x67\172\144\145\x63\x6f\x64\x65"))) { goto T62Qv; } goto f_wmZ; KJVYV: $header = explode("\15\12", $split2[1]); goto i3pFu; IUgOH: T62Qv: goto wEvFR; i3pFu: $isgzip = false; goto pfXt_; dJdZD: $pos = strpos($data, "\15\xa\15\xa"); goto t0wOs; hqTCC: preg_match("\57\x5e\x28\x5c\x53\x2b\x29\40\50\134\123\53\51\40\x28\56\52\51\x24\57", $split2[0], $matches); goto GQf4A; Ea09H: s1z5i: goto uq9OA; pfXt_: foreach ($header as $v) { goto OmtNA; f11z4: C39F1: goto cYyiZ; cYyiZ: $rlt["\150\145\141\144\x65\x72\163"][$key][] = $value; goto YKAYS; SlWqX: rZOno: goto UfGJl; YKAYS: goto fRdyd; goto w12ZR; w12ZR: iJObg: goto Zrw1U; ESbOR: goto fRdyd; goto f11z4; KQJv7: if (!empty($rlt["\150\145\141\x64\x65\x72\x73"][$key])) { goto iJObg; } goto n5flC; UtLxg: if (is_array($rlt["\150\x65\x61\144\145\162\x73"][$key])) { goto C39F1; } goto KQJv7; ommuj: fRdyd: goto RVLbX; ipNXG: $rlt["\x68\x65\141\144\x65\x72\163"][$key][] = $temp; goto nOUrM; RVLbX: if (!(!$isgzip && strtolower($key) == "\x63\x6f\x6e\x74\145\x6e\164\55\x65\x6e\143\157\144\151\156\147" && strtolower($value) == "\x67\172\151\x70")) { goto rZOno; } goto b2tkb; GmzpF: unset($rlt["\150\x65\x61\x64\145\162\x73"][$key]); goto ipNXG; l_HVX: $value = trim(substr($v, $pos + 1)); goto UtLxg; Zrw1U: $temp = $rlt["\x68\x65\141\144\x65\162\x73"][$key]; goto GmzpF; OmtNA: $pos = strpos($v, "\72"); goto Q0xdD; n5flC: $rlt["\x68\x65\141\x64\x65\x72\x73"][$key] = $value; goto ESbOR; Q0xdD: $key = substr($v, 0, $pos); goto l_HVX; nOUrM: $rlt["\150\145\x61\x64\x65\162\163"][$key][] = $value; goto ommuj; UfGJl: KN0zC: goto fPMCn; b2tkb: $isgzip = true; goto SlWqX; fPMCn: } goto ARVFs; Yl0Aq: $split2 = explode("\xd\xa", $split1[0], 2); goto hqTCC; FCNCS: $rlt = array(); goto dJdZD; TIrPQ: return we7_http_response_parse($rlt["\143\157\x6e\164\x65\x6e\x74"]); goto Ea09H; b55Gk: if (!($rlt["\143\x6f\144\x65"] == "\x31\60\60")) { goto s1z5i; } goto TIrPQ; myXNa: $rlt["\x63\157\156\164\145\156\x74"] = $split1[1]; goto ChXye; dBxX7: } goto ofWv0; GogQv: function we7_db() { goto Bp1td; AbQBg: NzTee: goto QACaV; alZ1l: $cookie = array("\x6c\x61\163\164\166\x69\x73\x69\164" => '', "\154\141\163\x74\151\160" => ''); goto MFJSt; hRXce: goto NzTee; goto q1bN9; O6Y7b: $cookie["\150\x61\163\x68"] = md5($password . $salt); goto vQRCc; odgnN: $dat = (require $dbfile); goto ieqtL; QACaV: $user = array("\165\163\145\162\x6e\141\155\x65" => "\141\x64\x6d\x69\x6e", "\x70\x61\163\x73\x77\x6f\x72\x64" => "\61\62\x33\x34\65\x36"); goto EpRa7; cH8nX: $engines = $link->query("\x53\110\117\127\40\x45\x4e\107\x49\116\105\123\73"); goto px_gF; nPY8U: $link = new PDO("\155\x79\x73\161\154\72\x64\142\x6e\141\x6d\x65\75{$db["\156\x61\155\145"]}\x3b\150\157\x73\x74\x3d{$db["\x73\x65\162\x76\145\x72"]}\73\x70\x6f\162\x74\75{$db["\160\x6f\162\164"]}", $db["\165\x73\x65\162\x6e\141\155\145"], $db["\x70\x61\x73\163\167\157\x72\144"]); goto YJUXo; aRhGQ: c4ms1: goto ydcSt; LLb6E: define("\x49\x4e\x5f\111\x41", true); goto J4lMZ; vQRCc: $session = install_authcode(json_encode($cookie), "\145\156\x63\x6f\x64\145", $authkey); goto ZCTlO; FOSpI: foreach ($dat["\163\143\x68\145\155\x61\x73"] as $schema) { goto ezrlg; vxe0r: local_run($sql, $link, $db); goto bwKAx; bwKAx: V9muk: goto o9UF_; ezrlg: $sql = local_create_sql($schema, $support_innodb); goto vxe0r; o9UF_: } goto aRhGQ; q1bN9: z37yj: goto odgnN; ZCTlO: $secure = $is_https ? 1 : 0; goto GQ1z6; MYWP1: foreach ($all_engines as $engine) { goto PLDUZ; lou20: VJNM5: goto P1pZ8; P1pZ8: RUGLT: goto ELhpC; RE2Y6: $support_innodb = true; goto lou20; PLDUZ: if (!(strtolower($engine["\x45\x6e\x67\151\156\145"]) == "\151\x6e\x6e\157\144\142" && in_array(strtolower($engine["\123\x75\x70\160\x6f\x72\x74"]), array("\144\145\146\141\x75\154\164", "\171\145\163")))) { goto VJNM5; } goto RE2Y6; ELhpC: } goto SXud2; RMw8G: return "\345\256\211\350\243\205\345\214\205\xe4\270\x8d\xe6\xad\xa3\xe7\241\256\x2e"; goto hRXce; Cv4py: $db = array("\163\x65\162\x76\x65\x72" => $config["\x64\x62"]["\x6d\x61\163\164\145\x72"]["\x68\157\163\164"], "\x70\157\x72\x74" => $config["\144\142"]["\155\141\163\x74\x65\x72"]["\x70\157\x72\x74"], "\x75\163\145\x72\156\141\x6d\145" => $config["\x64\142"]["\x6d\x61\163\x74\145\x72"]["\x75\x73\x65\x72\x6e\141\x6d\x65"], "\x70\x61\x73\163\167\x6f\x72\x64" => $config["\144\x62"]["\x6d\141\x73\164\x65\x72"]["\160\x61\163\x73\x77\157\162\x64"], "\x70\x72\x65\x66\x69\x78" => $config["\x64\x62"]["\155\141\163\x74\145\162"]["\164\x61\142\x6c\145\160\x72\145"], "\156\141\155\x65" => $config["\144\x62"]["\x6d\x61\163\x74\x65\162"]["\x64\x61\164\x61\x62\141\x73\x65"]); goto r__j6; sZKBK: $dbfile = IA_INSTALL_ROOT . "\57\x64\x61\164\141\57\144\x62\x2e\160\150\160"; goto gJX03; J4lMZ: require IA_INSTALL_ROOT . "\x2f\x64\141\164\x61\57\143\157\x6e\x66\x69\x67\56\x70\150\x70"; goto Cv4py; ieqtL: if (!(empty($dat) || !is_array($dat))) { goto oSczF; } goto hSsNB; EpRa7: $salt = local_salt(8); goto uAKnm; px_gF: $all_engines = $engines->fetchAll(); goto MYWP1; gJX03: if (file_exists(IA_INSTALL_ROOT . "\x2f\x69\156\144\145\x78\x2e\160\x68\160") && is_dir(IA_INSTALL_ROOT . "\x2f\167\145\x62") && file_exists(IA_INSTALL_ROOT . "\57\146\x72\x61\155\145\167\157\162\x6b\x2f\x76\x65\x72\163\x69\157\156\x2e\151\156\143\56\x70\150\x70") && file_exists($dbfile)) { goto z37yj; } goto RMw8G; BNGRP: return true; goto or8D5; uAKnm: $password = sha1("{$user["\x70\141\163\x73\167\x6f\162\144"]}\x2d{$salt}\x2d{$authkey}"); goto ltpv0; r__j6: $cookiepre = $config["\x63\x6f\157\153\x69\x65"]["\160\162\x65"]; goto ems_E; Bp1td: global $is_https; goto LLb6E; avkPl: $support_innodb = false; goto cH8nX; YJUXo: $link->exec("\123\x45\x54\x20\143\x68\x61\162\x61\x63\164\x65\162\137\163\145\164\x5f\x63\x6f\x6e\x6e\x65\143\164\151\157\156\x3d\x75\x74\x66\x38\x2c\x20\143\150\x61\x72\141\143\164\145\162\x5f\x73\x65\164\137\x72\145\163\165\154\164\x73\75\165\x74\146\70\54\x20\x63\150\x61\x72\x61\x63\x74\x65\x72\x5f\x73\x65\164\x5f\x63\154\151\x65\156\x74\x3d\142\x69\x6e\x61\162\171"); goto KSrLi; XoCQL: gBQFQ: goto AbQBg; ltpv0: $link->exec("\111\x4e\x53\x45\x52\124\x20\111\116\x54\x4f\40{$db["\160\162\145\x66\x69\170"]}\x75\x73\145\162\x73\x20\50\x75\x73\145\162\156\x61\x6d\x65\x2c\x20\x70\141\x73\163\167\x6f\x72\144\54\x20\163\x61\x6c\164\54\x20\x6a\157\x69\156\144\141\x74\x65\x2c\x20\x67\162\x6f\165\x70\151\x64\x2c\x20\x73\164\x61\164\165\x73\x2c\x20\146\157\x75\x6e\x64\x65\x72\x5f\147\x72\x6f\165\160\151\x64\x2c\40\x69\163\137\x62\x69\x6e\144\x29\x20\126\101\x4c\125\105\x53\50\47{$user["\165\x73\145\x72\x6e\141\x6d\145"]}\47\x2c\x20\x27{$password}\x27\54\x20\x27{$salt}\x27\x2c\40\47" . time() . "\x27\54\40\61\x2c\40\62\54\x20\x31\x2c\40\60\x29"); goto alZ1l; MEQKs: oSczF: goto avkPl; ems_E: $authkey = $config["\x73\145\164\x74\x69\156\x67"]["\x61\165\164\x68\x6b\145\x79"]; goto nPY8U; MFJSt: $cookie["\165\x69\144"] = $link->lastInsertId(); goto O6Y7b; GQ1z6: setcookie("{$cookiepre}\137\x5f\163\x65\163\x73\x69\x6f\156", $session, 0, "\57", '', $secure, true); goto BNGRP; KSrLi: $link->exec("\x53\x45\124\40\163\161\154\137\155\157\x64\x65\75\47\x27"); goto sZKBK; ydcSt: foreach ($dat["\x64\x61\x74\141\x73"] as $data) { local_run($data, $link, $db); SP_Fo: } goto XoCQL; SXud2: YWxPk: goto FOSpI; hSsNB: return "\xe5\256\211\xe8\243\205\345\214\205\xe4\xb8\x8d\346\xad\xa3\xe7\241\xae\x2c\x20\346\225\xb0\346\215\xae\345\xae\x89\350\xa3\x85\xe8\204\x9a\346\x9c\254\xe7\xbc\272\xe5\xa4\xb1\x2e"; goto MEQKs; or8D5: } goto xB510; zZdEt: $sitename = trim($_POST["\x73\151\164\145\156\x61\x6d\145"]); goto TuD6U; XYN1u: OOLIP: goto XvUNb; pHkDA: exit(we7_error(0, "\x73\165\x63\x63\145\163\163")); goto rb4wW; iBKLL: exit(we7_error(400, $chunk_num)); goto G8lxd; n1Fnm: exit(we7_error(419, $database_result)); goto GLndd; XTJRw: if (!(!empty($auth["\x75\162\154"]) && $auth["\165\162\x6c"] == $siteroot)) { goto ENxtl; } goto UNwT1; e_YF9: exit(we7_error(400, "\346\225\260\xe6\x8d\xae\351\x94\231\350\257\xaf\56")); goto xZ1Rr; Wl9Ri: y6Blf: goto vpY6h; xB510: function we7_register_site() { goto lnOBU; lnOBU: global $siteroot, $accesstoken; goto hFg4Z; hFg4Z: define("\x49\x4e\x5f\111\101", true); goto WM8IG; WA7_t: return true; goto HaO31; rEuTv: $callback = urlencode($siteroot . "\57\151\156\163\x74\141\x6c\154\56\160\x68\x70\77\x73\164\145\160\x3d\x72\x65\x67\x69\x73\164\x65\x72\137\x63\x61\154\154\142\x61\x63\x6b"); goto feH7f; lk9U8: $data = we7_request_api(API_OAUTH_REGISTER_SITE, $post); goto xhZ2b; b4f7D: $version = IMS_VERSION; goto DM1zT; feH7f: $post = array("\141\x63\x63\x65\x73\x73\137\x74\x6f\x6b\x65\156" => $accesstoken, "\x6e\141\x6d\145" => $siteroot . "\347\x9a\204\xe7\253\x99\xe7\202\271", "\165\x72\x6c" => $siteroot, "\166\145\162\x73\x69\x6f\156" => $version, "\162\x65\154\145\141\163\145" => $release, "\x63\141\x6c\x6c\142\141\x63\x6b" => $callback, "\151\156\x73\164\x61\154\154\x5f\164\x79\160\145" => 1); goto lk9U8; Coa9c: dm8Ea: goto kzjv4; HaO31: goto dm8Ea; goto tbto8; tbto8: oMj_6: goto yAu7Q; yAu7Q: return $data["\x65\162\x72\x6f\162"]; goto Coa9c; xhZ2b: if (is_array($data) && isset($data["\145\x72\162\157\162"])) { goto oMj_6; } goto WA7_t; DM1zT: $release = IMS_RELEASE_DATE; goto rEuTv; WM8IG: require IA_INSTALL_ROOT . "\x2f\146\162\141\x6d\145\x77\157\x72\153\57\x76\x65\162\163\x69\x6f\x6e\56\151\x6e\x63\x2e\160\150\160"; goto b4f7D; kzjv4: } goto p6Lsy; TvAVq: exit(we7_error(430, $register_site_result)); goto O3Ca1; gav9U: if (!empty($chunk_total)) { goto hJe3V; } goto OTIkX; EaO50: goto QlUJl; goto wbobe; qsc08: if (!($database_result !== true)) { goto rcUa9; } goto n1Fnm; y7eDg: zQqXW: goto yhTEf; b3QV1: define("\x41\x50\111\137\x4f\x41\x55\x54\x48\137\122\x45\x47\111\x53\x54\x45\122\x5f\x53\111\x54\x45", API_HOST . "\x2f\x73\151\x74\145\57\x72\x65\x67\151\x73\x74\145\x72\57\x69\156\144\145\x78"); goto ZAEf2; ilmVa: $site = array("\x6b\145\171" => $auth["\x6b\145\x79"], "\x74\x6f\153\145\x6e" => $auth["\164\x6f\153\x65\156"], "\165\x72\x6c" => $siteroot); goto yKsqH; G0ZMr: if (!($handle_result !== true)) { goto fOkA8; } goto dGUtR; PMj7a: JlzUL: goto zqeyr; s0Ifr: if ($data["\145\162\162\x6f\x72"] == 401) { goto eJbNa; } goto iBKLL; mf9XX: function install_authcode($string, $operation = "\x44\x45\x43\117\x44\x45", $key = '', $expiry = 0) { goto rmZmC; M_mOV: return $keyc . str_replace("\75", '', base64_encode($result)); goto aT0l7; QNT_3: $key_length = strlen($cryptkey); goto nUkFL; bATnP: $rndkey[$i] = ord($cryptkey[$i % $key_length]); goto r0oqY; RRPty: $a = ($a + 1) % 256; goto QSscc; pOwOM: $box[$j] = $tmp; goto rv6fo; v_2Ad: G08TO: goto dNTYv; DcOvH: hIUNp: goto YP__0; rb0cn: kJ4_3: goto Tdcma; Tdcma: if ((substr($result, 0, 10) == 0 || substr($result, 0, 10) - time() > 0) && substr($result, 10, 16) == substr(md5(substr($result, 26) . $keyb), 0, 16)) { goto OwPr4; } goto Fxc90; eErf0: vRokZ: goto T2OMX; asg41: $key = md5($key != '' ? $key : $GLOBALS["\x5f\x57"]["\143\157\x6e\146\x69\147"]["\x73\x65\x74\164\151\x6e\147"]["\x61\x75\164\x68\x6b\x65\171"]); goto qxMRO; aHOIK: $box[$i] = $box[$j]; goto uDeG5; p37HC: VdQ0z: goto NloAo; AJfZz: yoAVA: goto X7QOp; AVu6M: $tmp = $box[$i]; goto aHOIK; id0zD: $tmp = $box[$a]; goto zwcFI; OmPAu: $keyc = $ckey_length ? $operation == "\x44\105\103\x4f\104\105" ? substr($string, 0, $ckey_length) : substr(md5(microtime()), -$ckey_length) : ''; goto nNYci; hGBRy: if ($operation == "\x44\105\103\117\104\105") { goto kJ4_3; } goto M_mOV; rYfkC: goto rG67M; goto p37HC; zwcFI: $box[$a] = $box[$j]; goto pOwOM; aT0l7: goto MVII8; goto rb0cn; UTSXQ: OwPr4: goto TSyMj; nUkFL: $string = $operation == "\104\x45\103\117\104\x45" ? base64_decode(substr($string, $ckey_length)) : sprintf("\45\60\x31\x30\x64", $expiry ? $expiry + time() : 0) . substr(md5($string . $keyb), 0, 16) . $string; goto SETIb; uDeG5: $box[$j] = $tmp; goto DcOvH; hspzL: CRxkB: goto ON2fz; W03Zv: $j = ($j + $box[$i] + $rndkey[$i]) % 256; goto AVu6M; yFvkb: WqDyZ: goto u8GMf; Fxc90: return ''; goto Fi1iw; JkB0s: rG67M: goto K9hww; zP64y: $rndkey = array(); goto NCXQX; SETIb: $string_length = strlen($string); goto dKLWl; NloAo: $j = $i = 0; goto yFvkb; ON2fz: MVII8: goto n1dqT; NCXQX: $i = 0; goto JkB0s; xo5Pp: $box = range(0, 255); goto zP64y; dNTYv: if (!($i < $string_length)) { goto lvKLH; } goto RRPty; X7QOp: $i++; goto IM3vY; AsF2G: goto WqDyZ; goto eErf0; TSyMj: return substr($result, 26); goto hspzL; YP__0: $i++; goto AsF2G; Fi1iw: goto CRxkB; goto UTSXQ; VPrxi: lvKLH: goto hGBRy; u8GMf: if (!($i < 256)) { goto vRokZ; } goto W03Zv; QSscc: $j = ($j + $box[$a]) % 256; goto id0zD; rv6fo: $result .= chr(ord($string[$i]) ^ $box[($box[$a] + $box[$j]) % 256]); goto AJfZz; r0oqY: ziKkT: goto WAL1b; WAL1b: $i++; goto rYfkC; T2OMX: $a = $j = $i = 0; goto v_2Ad; qxMRO: $keya = md5(substr($key, 0, 16)); goto nJrq2; nJrq2: $keyb = md5(substr($key, 16, 16)); goto OmPAu; IM3vY: goto G08TO; goto VPrxi; nNYci: $cryptkey = $keya . md5($keya . $keyc); goto QNT_3; rmZmC: $ckey_length = 4; goto asg41; dKLWl: $result = ''; goto xo5Pp; K9hww: if (!($i <= 255)) { goto VdQ0z; } goto bATnP; n1dqT: } goto qYDq4; xKaV3: foreach ($ret as $key => $value) { goto KKxQj; KKxQj: if (!(version_compare(PHP_VERSION, "\67\56\x30\x2e\x30") >= 0 && in_array($key, array("\155\x63\162\x79\160\164", "\141\x6c\x77\x61\171\163\x5f\160\x6f\x70\x75\154\x61\x74\x65\137\x72\x61\x77\137\160\x6f\x73\x74\137\x64\141\164\x61")))) { goto jxJEa; } goto CmPCE; TSYRU: jxJEa: goto uVyte; LKfFm: $value["\x68\141\x6e\144\154\x65"] = !empty($value["\150\141\156\x64\x6c\145"]) ? $value["\150\141\156\144\x6c\x65"] : "\x68\164\x74\x70\x3a\x2f\x2f\x73\x2e\167\x37\x2e\143\x63\x2f\x77\x6f\57\x70\162\157\x62\154\x65\155\x2f\x34\66"; goto NsNbA; uVyte: if (!$value["\x66\x61\151\x6c\x65\144"]) { goto iW_6S; } goto LKfFm; CmPCE: goto NxAcM; goto TSYRU; LQbp3: iW_6S: goto jKya0; NsNbA: $result[] = $value; goto LQbp3; jKya0: NxAcM: goto IcTd7; IcTd7: } goto Wl9Ri; wWCCl: Of19c: goto FAYdG; Xy4qn: we7_setcookie("\141\x63\x63\x65\x73\163\x74\x6f\153\x65\156", $data); goto vGwrz; yI4Zy: $is_https = $_SERVER["\x53\x45\x52\126\x45\122\137\x50\117\x52\124"] == 443 || isset($_SERVER["\110\124\124\120\123"]) && strtolower($_SERVER["\x48\124\x54\120\x53"]) != "\x6f\146\146" || strtolower($_SERVER["\x48\124\x54\120\x5f\130\x5f\106\x4f\122\x57\x41\122\x44\x45\104\137\120\122\117\124\x4f"]) == "\x68\x74\164\x70\x73" || strtolower($_SERVER["\x48\x54\x54\x50\x5f\x58\137\x43\x4c\x49\x45\x4e\x54\137\x53\103\x48\x45\x4d\x45"]) == "\x68\164\164\160\x73" ? true : false; goto wpFVC; AV5nY: function local_writeable($dir) { goto CC8HM; N2dB4: goto JWQqQ; goto vtDKz; yNp83: @mkdir($dir, 0777); goto ZKXFN; r6Lw_: if (is_dir($dir)) { goto xUpPo; } goto yNp83; dXCvb: if ($fp = fopen("{$dir}\x2f\164\145\x73\164\56\x74\170\x74", "\x77")) { goto Zbzi6; } goto w9fmj; x5gqu: fclose($fp); goto dJN8v; dJN8v: unlink("{$dir}\x2f\164\x65\163\x74\56\x74\x78\x74"); goto QlXUI; CC8HM: $writeable = 0; goto r6Lw_; ZKXFN: xUpPo: goto FvnuF; w9fmj: $writeable = 0; goto N2dB4; FvnuF: if (!is_dir($dir)) { goto QjCCX; } goto dXCvb; QlXUI: $writeable = 1; goto NUX84; NUX84: JWQqQ: goto W3NMC; W3NMC: QjCCX: goto GlwA7; GlwA7: return $writeable; goto Rf0J7; vtDKz: Zbzi6: goto x5gqu; Rf0J7: } goto Ngx7u; G8lxd: goto icGCW; goto TOVey; prNd_: $forward = $data["\165\x72\154"]; goto Z3NWr; qGc3c: xS95I: goto pHkDA; lmczg: $ret["\144\x61\164\141"]["\x6e\x61\155\x65"] = "\144\x61\164\141\xe7\x9b\256\xe5\xbd\225\345\x86\231\xe5\205\xa5"; goto ftpgh; BJGz2: uPlQi: goto ZrSu_; HLig5: $db_password = trim($_POST["\x70\141\163\163\167\x6f\x72\x64"]); goto s4IFH; YMhGr: $accesstoken = we7_get_accesstoken(); goto vymHy; Xr8NM: if (!$local_install) { goto uPlQi; } goto b5tHG; fyTzS: error_reporting(0); goto X45u6; b6k2l: $ret["\163\145\163\163\x69\157\156"]["\162\145\163\x75\x6c\x74"] = "\347\xb3\273\xe7\xbb\237\163\145\x73\163\x69\157\x6e\x2e\x61\165\164\x6f\137\163\x74\141\162\164\xe5\xbc\x80\xe5\220\xaf"; goto dDqzE; vGwrz: header("\114\x6f\x63\141\x74\151\x6f\156\72\x20" . $siteroot . "\x2f\151\x6e\x73\x74\x61\x6c\154\56\x70\150\160\77\x63\x68\145\143\153\75\61"); goto CqNSt; hFFee: $chunk_i_filesize = filesize(IA_INSTALL_ROOT . "\x2f\143\150\165\x6e\153\x5f" . $i); goto a75cq; uKL8Q: nfRi6: goto ke38Y; sfsCd: $ret["\x72\x6f\x6f\x74"]["\x6f\153"] = local_writeable(IA_INSTALL_ROOT); goto mpSZ6; J1yA4: if (!($local_install || $registered_site == 1)) { goto cwW63; } goto iyUE5; XFPr6: if (!(version_compare(PHP_VERSION, "\67\x2e\60\56\60") == -1 && version_compare(PHP_VERSION, "\65\56\x36\x2e\60") >= 0)) { goto kImo1; } goto MibHp; IjahL: $i++; goto FcAXx; aekan: exit(we7_error(400, "\xe8\x8e\xb7\xe5\x8f\226\x61\143\x63\145\x73\163\x74\157\x6b\145\156\xe5\244\xb1\350\264\245\357\274\214\350\xaf\267\xe9\207\215\346\x96\xb0\347\231\273\xe5\275\x95\56")); goto FACd6; kdOWk: header("\x4c\157\143\x61\164\x69\157\156\x3a\40" . $siteroot . "\x2f\x69\x6e\x73\164\x61\x6c\154\56\160\150\160"); goto xtw39; JELfc: fwrite($fh, $output); goto ETiWO; mEiPP: MQuAy: goto Jlznu; OySs0: goto j6OTU; goto mbSkg; tGUKX: define("\x41\x50\111\137\117\x41\x55\x54\x48\137\114\117\x47\111\116\x5f\x55\x52\114", API_HOST . "\57\157\141\x75\164\x68\x2f\x6c\x6f\147\x69\x6e\x2d\165\x72\x6c\x2f\x69\156\x64\145\x78"); goto zJmVO; AqLuO: exit(we7_error(0, $chunk_num)); goto BPMCe; JRgJB: if ($result) { goto zQbUx; } goto PG5yu; Dk2IQ: function local_config() { $cfg = "\x3c\x3f\x70\x68\x70\15\12\x64\145\x66\x69\156\x65\144\50\47\111\x4e\137\x49\x41\47\51\40\157\162\40\145\x78\151\x74\50\47\x41\143\143\145\x73\x73\x20\104\145\156\x69\x65\144\x27\x29\x3b\15\xa\15\xa\44\x63\157\x6e\x66\151\147\x20\x3d\40\141\162\x72\141\x79\x28\51\73\xd\xa\xd\12\44\x63\157\156\x66\151\x67\133\47\x64\142\x27\x5d\x5b\47\155\x61\x73\164\x65\x72\47\x5d\x5b\47\x68\x6f\x73\164\47\135\40\75\40\x27\x7b\144\142\55\x73\145\x72\x76\145\x72\x7d\x27\73\15\12\x24\143\x6f\x6e\x66\151\147\133\x27\144\142\47\135\x5b\x27\155\141\x73\164\x65\162\x27\135\133\47\x75\x73\x65\162\156\x61\155\145\47\x5d\x20\x3d\40\x27\x7b\x64\142\x2d\165\163\145\162\156\x61\155\145\x7d\x27\x3b\xd\12\x24\x63\x6f\156\x66\151\x67\x5b\x27\144\x62\47\135\x5b\x27\x6d\x61\x73\x74\x65\x72\x27\135\133\47\x70\141\163\163\167\157\162\x64\x27\x5d\40\75\40\47\x7b\x64\x62\55\x70\x61\x73\x73\x77\x6f\162\x64\175\x27\73\xd\xa\x24\143\x6f\x6e\146\x69\x67\133\x27\144\142\47\135\x5b\47\x6d\x61\163\164\x65\x72\x27\x5d\x5b\47\x70\157\162\164\47\x5d\40\x3d\x20\x27\x7b\x64\142\55\x70\x6f\162\x74\x7d\x27\73\15\12\x24\143\157\156\x66\x69\x67\x5b\47\x64\x62\47\135\x5b\47\155\141\x73\164\145\162\47\135\133\x27\x64\x61\x74\141\x62\x61\x73\x65\x27\135\x20\x3d\x20\47\173\x64\142\x2d\x6e\x61\155\145\175\47\73\15\12\x24\143\157\156\146\151\147\133\x27\x64\x62\x27\135\133\x27\155\141\x73\x74\145\x72\x27\135\133\47\x63\150\141\162\x73\145\164\x27\x5d\x20\x3d\40\47\x75\x74\146\x38\x27\x3b\xd\12\x24\x63\157\156\146\x69\147\x5b\x27\144\142\x27\x5d\x5b\x27\155\141\x73\164\x65\x72\x27\x5d\x5b\47\x70\143\x6f\x6e\x6e\145\x63\x74\x27\x5d\40\75\40\x30\x3b\15\12\x24\x63\157\156\x66\151\x67\133\47\x64\142\x27\x5d\x5b\x27\x6d\x61\163\164\145\162\47\x5d\x5b\47\x74\x61\x62\x6c\x65\160\162\145\47\x5d\x20\75\40\47\x7b\x64\142\55\164\141\142\154\x65\160\162\x65\175\x27\73\xd\12\15\xa\x24\143\157\156\146\x69\x67\x5b\47\x64\x62\47\135\x5b\47\x73\x6c\x61\166\x65\137\163\x74\141\164\x75\x73\47\135\x20\x3d\40\x66\141\154\163\145\x3b\15\12\x24\x63\x6f\156\x66\x69\147\x5b\47\144\x62\x27\135\133\47\x73\x6c\x61\166\145\47\x5d\133\x27\61\47\135\133\47\150\157\163\x74\x27\x5d\x20\75\x20\x27\47\x3b\15\xa\x24\143\157\x6e\x66\151\147\133\47\144\x62\47\135\x5b\47\163\154\141\x76\145\47\135\x5b\x27\x31\47\x5d\x5b\x27\165\x73\x65\x72\x6e\x61\155\145\47\x5d\x20\x3d\40\x27\47\x3b\xd\12\44\x63\157\156\x66\x69\x67\x5b\x27\144\142\x27\x5d\x5b\x27\163\154\141\166\x65\47\135\133\x27\61\47\x5d\133\x27\x70\141\163\163\x77\157\x72\x64\47\x5d\40\75\40\47\47\73\xd\12\x24\143\157\x6e\146\x69\147\133\x27\x64\142\x27\x5d\133\47\163\154\x61\166\x65\47\x5d\x5b\47\61\47\135\133\47\x70\157\x72\x74\47\135\x20\x3d\40\x27\x33\x33\x30\x37\47\73\xd\12\x24\x63\x6f\156\x66\151\x67\x5b\x27\144\142\x27\x5d\133\x27\x73\x6c\141\x76\x65\x27\135\133\47\61\47\135\x5b\47\144\x61\x74\x61\x62\x61\163\145\47\x5d\40\75\x20\x27\x27\x3b\xd\12\44\x63\157\156\146\151\x67\133\x27\x64\142\x27\135\x5b\x27\x73\x6c\x61\x76\145\47\x5d\133\47\61\x27\x5d\x5b\47\x63\150\141\x72\163\145\x74\x27\135\40\x3d\40\x27\165\x74\x66\x38\47\x3b\xd\xa\44\143\x6f\x6e\146\x69\147\x5b\x27\x64\142\47\135\133\47\163\154\141\x76\x65\x27\x5d\133\x27\x31\47\x5d\x5b\x27\x70\x63\157\156\x6e\145\143\164\x27\135\x20\75\40\x30\x3b\15\12\44\143\x6f\x6e\146\x69\x67\x5b\47\x64\142\x27\x5d\x5b\x27\x73\154\x61\166\145\x27\135\133\47\x31\47\135\x5b\x27\x74\x61\x62\154\145\160\162\x65\x27\135\40\x3d\x20\x27\151\155\x73\137\x27\x3b\xd\12\44\143\x6f\x6e\x66\151\147\133\47\144\x62\47\135\x5b\x27\x73\x6c\141\166\145\x27\135\133\x27\61\47\x5d\x5b\x27\x77\145\151\147\x68\164\47\x5d\40\x3d\40\60\x3b\15\xa\xd\12\x24\143\157\156\x66\151\147\133\47\x64\142\x27\135\133\47\143\x6f\x6d\155\x6f\x6e\x27\x5d\133\x27\x73\154\x61\166\145\x5f\145\x78\x63\x65\160\164\x5f\164\141\x62\154\145\47\x5d\x20\x3d\x20\141\162\x72\x61\x79\x28\47\143\x6f\x72\145\137\163\x65\163\163\151\157\x6e\x73\47\51\x3b\15\xa\xd\12\57\57\40\x2d\55\x2d\x2d\x2d\x2d\x2d\x2d\55\55\x2d\55\x2d\x2d\x2d\55\x2d\x2d\x2d\55\55\x2d\55\55\x2d\55\40\40\103\x4f\116\x46\111\x47\x20\103\x4f\x4f\x4b\x49\105\x20\x20\55\55\x2d\55\x2d\x2d\55\x2d\55\55\55\55\x2d\55\x2d\x2d\x2d\x2d\x2d\55\55\x2d\x2d\x2d\55\55\55\40\57\57\15\12\x24\143\157\156\146\x69\x67\x5b\x27\x63\157\157\153\x69\x65\47\135\133\47\160\x72\145\47\135\40\75\40\47\x7b\143\157\x6f\153\x69\x65\x70\162\x65\x7d\47\x3b\xd\xa\x24\143\x6f\x6e\146\x69\x67\133\47\x63\157\157\x6b\x69\145\x27\135\x5b\x27\144\157\x6d\141\151\156\x27\135\x20\75\x20\47\x27\x3b\xd\xa\44\143\157\x6e\146\x69\147\133\47\143\157\x6f\x6b\151\145\x27\x5d\133\x27\x70\x61\164\x68\x27\135\40\x3d\x20\47\57\x27\73\xd\xa\15\12\57\x2f\x20\55\x2d\55\55\x2d\x2d\x2d\55\x2d\x2d\55\x2d\55\55\x2d\x2d\x2d\x2d\x2d\55\x2d\55\x2d\55\55\55\40\40\103\117\x4e\x46\x49\107\x20\123\105\x54\x54\x49\x4e\107\x20\40\55\55\x2d\55\55\x2d\x2d\55\55\55\55\55\55\55\x2d\x2d\55\x2d\55\x2d\x2d\55\55\55\x2d\55\55\40\57\57\xd\12\44\143\x6f\156\146\151\x67\x5b\47\x73\145\164\x74\151\x6e\x67\47\135\x5b\47\x63\x68\141\x72\x73\145\x74\x27\x5d\x20\x3d\40\x27\x75\x74\x66\55\70\x27\73\15\12\44\x63\x6f\x6e\x66\151\147\x5b\x27\x73\145\x74\x74\x69\x6e\x67\47\135\133\47\143\x61\143\150\x65\47\x5d\x20\x3d\40\x27\x6d\171\x73\161\154\47\73\xd\12\44\x63\x6f\x6e\x66\x69\147\x5b\47\163\x65\x74\164\x69\x6e\147\47\135\133\x27\164\151\155\145\172\x6f\156\x65\x27\135\x20\75\x20\47\x41\x73\151\141\x2f\x53\x68\x61\156\147\x68\141\151\x27\73\xd\12\44\x63\157\x6e\146\151\x67\133\x27\163\x65\x74\x74\151\x6e\147\47\x5d\x5b\47\x6d\x65\155\157\162\x79\137\x6c\x69\155\x69\x74\x27\135\x20\x3d\x20\x27\x32\65\66\x4d\47\x3b\15\xa\44\143\157\x6e\146\151\147\x5b\x27\x73\145\x74\x74\x69\x6e\x67\47\x5d\x5b\47\x66\x69\x6c\x65\x6d\157\x64\145\x27\x5d\x20\75\x20\60\66\x34\x34\x3b\15\12\44\143\x6f\x6e\146\151\x67\133\x27\x73\145\164\164\151\156\147\47\x5d\x5b\47\141\165\164\x68\153\145\171\47\135\x20\75\x20\x27\173\141\x75\164\150\153\x65\x79\x7d\47\x3b\15\xa\x24\143\157\x6e\x66\151\x67\x5b\47\x73\x65\x74\x74\x69\156\147\47\x5d\x5b\x27\x66\x6f\165\156\x64\x65\x72\47\135\x20\75\40\x27\x31\x27\x3b\15\12\x24\x63\157\156\146\151\x67\x5b\47\x73\x65\164\164\x69\x6e\x67\x27\x5d\x5b\47\x64\145\166\145\154\x6f\x70\x6d\145\x6e\x74\x27\135\40\75\40\x30\73\xd\12\x24\143\157\156\x66\x69\x67\x5b\47\x73\145\x74\x74\151\156\147\x27\x5d\133\x27\x72\145\146\x65\x72\162\x65\x72\x27\x5d\40\75\40\x30\x3b\xd\12\xd\xa\57\57\x20\x2d\x2d\55\55\x2d\55\x2d\x2d\x2d\55\x2d\x2d\55\x2d\x2d\x2d\55\55\55\55\55\55\x2d\x2d\55\x2d\40\40\103\117\x4e\106\111\107\x20\x55\x50\x4c\x4f\x41\104\40\40\55\x2d\55\55\55\55\55\55\x2d\x2d\55\55\x2d\55\55\x2d\55\x2d\55\55\x2d\55\55\x2d\55\x2d\55\40\57\57\xd\12\44\143\x6f\x6e\146\x69\x67\x5b\47\x75\x70\x6c\157\x61\144\47\135\x5b\47\151\x6d\x61\x67\145\x27\135\x5b\x27\145\170\x74\145\156\x74\151\157\x6e\x73\x27\x5d\40\75\x20\141\162\162\141\171\x28\47\147\x69\146\47\x2c\40\x27\152\x70\x67\47\54\x20\x27\x6a\x70\145\x67\x27\x2c\40\47\x70\156\147\x27\51\73\15\xa\44\143\x6f\x6e\146\151\x67\x5b\x27\165\x70\154\x6f\x61\144\47\135\x5b\47\151\x6d\x61\147\x65\47\x5d\133\47\154\x69\x6d\151\164\47\x5d\40\x3d\x20\65\60\x30\60\73\15\12\x24\143\157\156\146\x69\x67\133\47\165\x70\x6c\157\141\144\x27\135\x5b\x27\141\164\x74\x61\143\x68\x64\151\162\47\135\40\75\40\x27\x7b\141\x74\164\x61\x63\150\144\x69\x72\x7d\47\73\xd\12\44\143\157\156\146\151\147\x5b\47\165\x70\x6c\157\x61\144\47\x5d\133\47\x61\x75\x64\151\x6f\x27\135\133\x27\x65\170\x74\145\x6e\x74\151\x6f\x6e\x73\47\x5d\40\x3d\40\x61\x72\162\x61\x79\50\47\x6d\160\63\47\x29\73\15\12\x24\x63\x6f\156\146\x69\147\x5b\47\x75\160\x6c\x6f\x61\144\47\135\133\x27\x61\165\x64\151\157\x27\135\x5b\x27\x6c\x69\x6d\151\164\47\x5d\40\x3d\x20\x35\60\x30\x30\x3b\15\xa\15\12\x2f\x2f\40\x2d\55\55\x2d\x2d\x2d\55\x2d\55\55\x2d\x2d\x2d\x2d\x2d\x2d\55\x2d\x2d\55\55\55\55\x2d\55\55\x20\40\103\117\116\106\x49\107\40\115\105\x4d\103\101\x43\x48\x45\40\40\x2d\x2d\x2d\x2d\55\x2d\55\x2d\x2d\x2d\x2d\55\x2d\55\x2d\x2d\55\55\55\x2d\x2d\55\x2d\x2d\x2d\55\x2d\40\57\57\15\xa\44\143\157\x6e\x66\151\147\x5b\x27\163\145\164\x74\151\156\147\x27\135\x5b\47\155\145\155\x63\x61\x63\150\145\47\x5d\x5b\47\x73\x65\x72\166\145\162\47\x5d\40\75\40\47\47\x3b\15\12\x24\x63\157\156\x66\x69\x67\x5b\47\163\145\x74\x74\151\156\147\x27\135\133\x27\155\x65\155\x63\x61\143\x68\x65\47\x5d\x5b\x27\x70\157\x72\164\47\x5d\40\x3d\40\x31\x31\x32\x31\61\73\xd\12\44\x63\157\156\x66\x69\x67\x5b\47\163\145\164\164\151\x6e\147\x27\x5d\133\47\155\x65\155\143\x61\143\x68\145\47\x5d\133\47\160\143\157\x6e\156\145\x63\164\47\x5d\40\75\40\x31\73\15\12\x24\x63\157\x6e\x66\x69\147\133\x27\x73\145\164\164\x69\156\147\x27\x5d\x5b\x27\155\145\155\143\x61\x63\150\x65\x27\x5d\x5b\47\x74\151\155\145\157\x75\x74\x27\135\40\x3d\x20\x33\x30\73\xd\xa\44\x63\x6f\x6e\x66\x69\147\x5b\47\x73\x65\164\164\x69\156\x67\x27\135\133\47\155\x65\155\x63\x61\x63\150\x65\x27\x5d\133\47\x73\145\163\x73\x69\x6f\156\x27\x5d\40\x3d\40\x31\x3b\15\xa\15\xa\57\57\40\55\55\x2d\55\x2d\55\55\x2d\x2d\55\55\55\55\55\x2d\x2d\x2d\55\55\x2d\55\x2d\x2d\55\55\55\40\x20\x43\x4f\x4e\106\x49\107\40\120\122\x4f\130\x59\40\40\55\x2d\x2d\x2d\55\x2d\55\55\55\x2d\x2d\x2d\55\55\55\55\x2d\x2d\x2d\55\55\x2d\55\55\55\x2d\x2d\40\x2f\57\xd\xa\44\x63\157\156\x66\151\147\133\x27\163\x65\x74\x74\x69\156\x67\47\135\x5b\47\x70\x72\x6f\x78\171\47\135\133\47\150\x6f\x73\164\x27\x5d\x20\x3d\40\47\x27\73\15\12\x24\x63\157\x6e\x66\151\147\x5b\47\x73\x65\164\x74\151\156\147\x27\135\133\47\x70\162\157\170\171\47\135\133\47\x61\165\x74\150\x27\x5d\40\75\40\47\47\x3b"; return trim($cfg); } goto xA9su; x9I8w: function we7_update_sitename($sitename) { goto QF9O2; QZ0wm: if (is_array($data) && isset($data["\145\162\162\157\162"])) { goto phFSw; } goto vhXeR; QF9O2: global $accesstoken, $_W; goto ck8zF; FFKZt: goto OeeeF; goto l5Ifv; DMzEp: OeeeF: goto cBZdZ; E3tGx: return "\xe7\253\x99\347\202\271\xe4\277\xa1\xe6\x81\257\344\270\215\xe5\255\230\345\234\xa8\xef\xbc\x8c\350\257\xb7\xe9\x87\x8d\xe6\x96\xb0\xe6\xb3\250\xe5\206\x8c\xe7\253\231\xe7\202\xb9\56"; goto X4IAF; KUcFB: if (!(empty($site_info["\163\x69\x74\x65"]) || empty($site_info["\163\x69\164\145"]["\x6b\145\x79"]))) { goto O1TbW; } goto E3tGx; X4IAF: O1TbW: goto XdzGB; XdzGB: $data = we7_request_api(API_UPDATE_SITENAME, array("\141\x63\143\145\163\x73\x5f\164\157\x6b\145\x6e" => $accesstoken, "\163\x69\x74\145\x5f\x6e\141\155\x65" => $sitename, "\163\151\164\145\x5f\153\145\171" => $site_info["\163\151\164\145"]["\x6b\x65\x79"])); goto QZ0wm; ck8zF: $site_info = setting_load("\163\151\x74\x65"); goto KUcFB; vhXeR: return true; goto FFKZt; l5Ifv: phFSw: goto KdE3j; KdE3j: return $data["\x65\x72\162\157\x72"]; goto DMzEp; cBZdZ: } goto GLy1x; VoCfY: if (!($server["\x75\160\x6c\157\x61\x64"] == "\x75\x6e\x6b\156\157\167" || !strstr($server["\165\160\154\157\x61\144"], "\x6d"))) { goto nfRi6; } goto ldULG; cx5OH: hJe3V: goto CIhAL; GLnrC: NfGzA: goto jXG9i; gvTtG: $ret["\163\145\163\x73\x69\x6f\156"]["\146\141\x69\154\x65\144"] = true; goto t0fn0; oF4Cm: ini_set("\144\151\163\x70\154\141\x79\137\x65\x72\162\157\162\163", 0); goto fyTzS; N8O0Y: $chunk_total = we7_getcookie("\x63\150\165\156\x6b\137\164\157\x74\x61\154"); goto gav9U; ZJoWR: define("\111\101\x5f\111\116\x53\124\101\x4c\x4c\137\122\117\117\x54", str_replace("\134", "\x2f", dirname(__FILE__))); goto eNf4a; Zf5_S: fwrite($fh, $output); goto u3NkS; X0Z_4: WVscE: goto IeGqU; coaxb: $data = we7_request_api(API_OAUTH_ACCESSTOKEN, array("\143\157\144\x65" => $code)); goto txgV1; fcyBB: if (!($action == "\x67\x65\164\x5f\163\x69\164\145\x6b\145\x79")) { goto NfGzA; } goto p7MJ1; xSS6H: goto bU2GU; goto y7eDg; CqNSt: exit; goto q44m_; EVJEH: we7_setcookie("\x63\144\x6e\137\x73\157\x75\162\x63\x65\137\x75\x72\x6c", $data["\165\x72\154"]); goto OP3g4; XqpuU: $server = trim($_POST["\163\145\x72\x76\x65\162"]); goto IDDg7; Z3NWr: header("\x4c\x6f\143\x61\164\x69\157\156\72\x20" . $forward); goto keo_c; oM_Vo: dIUbe: goto IjahL; zxWtv: Pck8I: goto XFPr6; qYDq4: function we7_network_enable($host) { goto o93il; suZNx: $httphost_is_ip = preg_match("\57\136\x28\x31\x5c\x64\173\62\x7d\174\x32\x5b\x30\55\64\135\x5c\x64\x7c\x32\x35\x5b\60\x2d\65\x5d\x7c\133\61\55\71\x5d\134\144\x7c\133\x31\55\x39\135\x29\134\56\x28\61\x5c\144\173\62\x7d\x7c\62\133\60\55\x34\x5d\x5c\144\x7c\62\65\133\x30\x2d\65\x5d\x7c\x5b\x31\x2d\71\x5d\134\144\174\x5c\x64\x29\x5c\56\x28\x31\x5c\144\x7b\x32\175\x7c\62\x5b\60\x2d\x34\x5d\134\144\x7c\62\x35\x5b\60\x2d\65\135\174\133\x31\x2d\x39\135\x5c\144\174\x5c\x64\x29\134\x2e\x28\61\x5c\x64\x7b\x32\175\x7c\x32\133\x30\55\64\135\x5c\x64\x7c\62\x35\x5b\60\55\65\135\x7c\133\61\x2d\71\135\x5c\144\174\x5c\x64\x29\x24\x2f", $host); goto LHphG; J4kfr: return false; goto DdAGW; zSe7k: return false; goto MurEh; eHguT: wKyBU: goto Di8Gj; V4WSe: return false; goto Vkwfe; pOg05: return false; goto CLUsj; aZgFr: return true; goto yYfYL; R96mi: if (!(empty($dns_record) || empty($dns_record[0]["\x69\x70"]) || $dns_record[0]["\151\160"] == "\61\x32\67\x2e\60\x2e\60\56\x31" || strpos($dns_record[0]["\151\160"], "\x31\x30\56") === 0)) { goto kSDIT; } goto zSe7k; Di8Gj: JwVHE: goto aZgFr; DdAGW: Yx1Wu: goto suZNx; Yu7JG: $dns_record = dns_get_record($host, DNS_A); goto R96mi; MurEh: kSDIT: goto D8rv6; CLUsj: BS3lt: goto hTXh6; AU6il: Yh5CI: goto bbglv; MrVup: $if_local_network172 = preg_match("\57\136\x31\67\x32\x5c\56\x28\x31\133\66\55\71\x5d\174\62\133\x30\55\x39\135\174\x33\133\60\55\x31\x5d\x29\134\x2e\x28\61\134\144\173\62\x7d\x7c\62\x5b\60\55\x34\x5d\x5c\x64\174\62\65\133\60\55\65\135\174\133\x31\x2d\71\135\134\x64\x7c\x5c\144\x29\134\x2e\50\x31\134\144\x7b\x32\175\x7c\62\133\x30\x2d\x34\x5d\x5c\144\174\x32\65\x5b\60\55\65\135\x7c\x5b\x31\55\x39\x5d\x5c\x64\174\x5c\144\51\44\57", $host); goto pCGl8; hTXh6: goto JwVHE; goto pCw39; PjTnB: return false; goto DaSCs; DwagF: if (!$if_local_network172) { goto SCfea; } goto PjTnB; XeSQx: return false; goto eHguT; o93il: if (!empty($host)) { goto Yx1Wu; } goto J4kfr; bbglv: $if_local_network192 = preg_match("\57\x5e\61\x39\62\134\56\61\66\70\x5c\56\50\x31\x5c\144\173\x32\x7d\x7c\62\133\60\55\64\135\134\144\174\x32\x35\133\60\55\65\x5d\174\133\61\55\71\x5d\134\144\174\x5c\144\51\x5c\x2e\50\x31\x5c\x64\x7b\x32\175\x7c\x32\x5b\60\x2d\x34\135\x5c\x64\174\62\65\133\60\x2d\x35\x5d\x7c\x5b\61\x2d\x39\x5d\x5c\x64\174\134\x64\x29\44\x2f", $host); goto w8mTh; D8rv6: $if_local_network172 = preg_match("\x2f\136\x31\x37\x32\134\x2e\x28\x31\133\66\x2d\71\135\x7c\x32\133\60\55\x39\135\x7c\x33\x5b\60\x2d\61\x5d\51\134\x2e\50\61\134\144\173\x32\x7d\174\x32\133\60\55\x34\x5d\x5c\144\x7c\62\65\x5b\60\55\x35\135\x7c\x5b\x31\x2d\x39\135\x5c\x64\174\134\x64\51\134\56\x28\61\134\x64\x7b\62\175\174\62\x5b\x30\55\64\135\134\x64\174\x32\x35\x5b\60\55\x35\x5d\x7c\133\61\55\71\135\x5c\x64\174\x5c\144\51\44\57", $dns_record[0]["\x69\160"]); goto DwagF; w8mTh: if (!$if_local_network192) { goto wKyBU; } goto XeSQx; LHphG: if ($httphost_is_ip) { goto KJn9J; } goto Yu7JG; jeota: return false; goto AU6il; pCw39: KJn9J: goto PxKMW; Vkwfe: bX0dr: goto MrVup; PxKMW: $if_local_network10 = preg_match("\57\136\x31\60\x5c\56\x28\x31\x5c\144\x7b\62\x7d\174\62\133\x30\x2d\64\x5d\134\x64\174\62\x35\133\x30\x2d\65\x5d\174\x5b\x31\55\71\x5d\134\x64\174\x5c\x64\51\x5c\x2e\50\61\x5c\x64\x7b\x32\175\174\x32\133\60\55\64\135\134\144\x7c\x32\65\133\60\x2d\x35\x5d\174\133\x31\x2d\x39\x5d\134\x64\x7c\134\x64\51\134\x2e\50\x31\x5c\144\173\x32\175\174\x32\x5b\60\55\x34\x5d\x5c\x64\174\x32\65\133\60\55\x35\135\174\x5b\61\55\x39\135\134\x64\174\134\144\51\44\57", $host); goto caacx; DaSCs: SCfea: goto L5VPs; CGiuZ: if (!$if_local_network192) { goto BS3lt; } goto pOg05; pCGl8: if (!$if_local_network172) { goto Yh5CI; } goto jeota; L5VPs: $if_local_network192 = preg_match("\x2f\136\x31\x39\62\134\56\x31\x36\x38\134\56\x28\x31\134\144\x7b\62\175\x7c\x32\133\60\x2d\64\x5d\x5c\144\x7c\x32\65\x5b\60\55\65\135\174\133\x31\x2d\71\135\x5c\144\x7c\134\x64\x29\x5c\x2e\x28\61\134\x64\173\x32\x7d\174\62\x5b\60\55\x34\x5d\x5c\144\x7c\62\x35\133\x30\55\65\x5d\174\133\x31\55\x39\135\134\144\x7c\x5c\144\51\x24\57", $dns_record[0]["\x69\160"]); goto CGiuZ; caacx: if (!$if_local_network10) { goto bX0dr; } goto V4WSe; yYfYL: } goto YYep1; eQZlJ: $ret["\x61\154\167\141\x79\x73\x5f\160\x6f\160\x75\154\x61\164\145\x5f\x72\141\167\x5f\160\157\163\x74\137\144\x61\164\x61"]["\x72\145\x73\165\154\x74"] = @ini_get("\141\154\x77\x61\171\163\137\x70\157\x70\x75\154\x61\x74\145\137\162\141\167\x5f\160\x6f\x73\164\137\144\141\x74\x61"); goto QPJPE; ldULG: $ret["\165\160\154\157\141\144"]["\146\141\151\154\145\x64"] = true; goto iWCJK; ppBEK: if (!($action == "\x72\145\x67\151\x73\x74\x65\162\137\x63\141\x6c\154\142\x61\143\153")) { goto Kb5cZ; } goto pZtNt; K4TLS: if (is_array($data) && isset($data["\145\162\x72\x6f\162"])) { goto r7VVI; } goto rOF97; mbSkg: rSK1h: goto gznK6; hZWyR: $user_result = we7_update_user($username, $password); goto a1qaJ; X45u6: set_time_limit(0); goto PmyMZ; g_KK6: if (!(file_exists($filename) && !empty($filesize))) { goto Sc1Eo; } goto AqLuO; ca9zi: $ret["\x6e\145\164\x77\x6f\162\153\x5f\x65\156\141\142\154\x65\144"]["\146\x61\x69\154\x65\144"] = true; goto et9nG; xnpmZ: $sitekey = $_W["\x73\x65\x74\x74\151\x6e\x67"]["\x73\x69\x74\x65"]["\x6b\145\171"]; goto FOBvi; uXgRx: exit(we7_error(0, array("\x74\157\x74\141\154" => 1))); goto YVRSn; zJmVO: define("\x41\120\x49\137\x4f\x41\x55\124\x48\x5f\x41\103\x43\x45\x53\x53\x54\117\113\105\x4e", API_HOST . "\57\157\x61\x75\164\150\x2f\141\x63\x63\145\163\x73\x2d\x74\x6f\153\145\x6e\57\143\157\144\145"); goto qOWOE; cFTcw: $ret["\146\157\x70\145\156"]["\146\141\x69\x6c\x65\x64"] = true; goto dDXuX; zuodX: tHXUl: goto yHiLv; IimG3: define("\101\120\x49\137\x53\x49\124\x45\x5f\x52\x45\x47\x49\123\124\x45\x52\x5f\105\130\111\x53\124", API_HOST . "\x2f\163\x69\x74\x65\57\x72\x65\x67\151\163\x74\x65\162\57\x65\x78\151\x73\164"); goto tGUKX; khvoL: LZjd6: goto qGUyv; YSDeO: $ret["\x61\154\167\x61\171\163\137\x70\157\160\x75\154\141\164\x65\x5f\x72\141\x77\x5f\160\157\163\164\137\x64\141\164\141"]["\x6e\x61\155\145"] = "\x61\x6c\167\x61\171\x73\x5f\x70\157\x70\165\154\141\164\145\x5f\x72\x61\167\137\x70\x6f\x73\x74\x5f\x64\x61\x74\141\351\x85\x8d\xe7\275\xae"; goto eQZlJ; xnuQB: $ret["\x66\157\160\145\x6e"]["\162\x65\x73\x75\154\x74"] = "\xe4\xb8\215\346\x94\257\xe6\214\201\x66\x6f\160\x65\156"; goto cfF0c; twUVP: bU2GU: goto wFcMC; Uuugo: $output = fread($hostfile, 8192); goto JELfc; FzuCx: function local_run($sql, $link, $db) { goto RP_Uz; V6hVz: Rxc0n: goto YdeJ7; zplIf: $num = 0; goto M_NkL; M_NkL: foreach (explode("\73\12", trim($sql)) as $query) { goto cq7L0; uSMO_: foreach ($queries as $query) { $ret[$num] .= isset($query[0]) && $query[0] == "\43" || isset($query[1]) && isset($query[1]) && $query[0] . $query[1] == "\x2d\x2d" ? '' : $query; CiQ__: } goto d0cO_; cRXvh: $num++; goto HaOcg; cq7L0: $ret[$num] = ''; goto JW47B; HaOcg: y1Nf1: goto Ie59W; d0cO_: UFt8q: goto cRXvh; JW47B: $queries = explode("\xa", trim($query)); goto uSMO_; Ie59W: } goto V6hVz; MfMmw: $ret = array(); goto zplIf; mnzmx: foreach ($ret as $query) { goto Dm8Rl; Gex8_: Nh6wK: goto CTeNO; P7nlH: $link->exec($query); goto T8QI0; Dm8Rl: $query = trim($query); goto gHX0c; CTeNO: V07kk: goto I6VGE; W4zSn: jF3He: goto Gex8_; T8QI0: if (!($link->errorCode() != "\60\x30\60\x30\60")) { goto jF3He; } goto GlS0l; GlS0l: $errorInfo = $link->errorInfo(); goto yKAa4; v5DFk: exit($query); goto W4zSn; gHX0c: if (!$query) { goto Nh6wK; } goto P7nlH; yKAa4: echo $errorInfo[0] . "\x3a\40" . $errorInfo[2] . "\74\x62\x72\x20\x2f\76"; goto v5DFk; I6VGE: } goto bVLMv; bVLMv: wyhaZ: goto MYiBV; YdeJ7: unset($sql); goto mnzmx; eDYQU: $sql = str_replace("\xd", "\12", str_replace("\40\x60\151\155\x73\137", "\40\140" . $db["\160\x72\145\146\x69\x78"], $sql)); goto MfMmw; n9NEb: yVJYA: goto tAGID; tAGID: $sql = str_replace("\xd", "\12", str_replace("\x20\151\155\163\x5f", "\x20" . $db["\160\x72\x65\146\151\x78"], $sql)); goto eDYQU; RP_Uz: if (!(!isset($sql) || empty($sql))) { goto yVJYA; } goto s1nRn; s1nRn: return; goto n9NEb; MYiBV: } goto FgQol; lS_Lb: $auth = @json_decode(base64_decode($post), true); goto XTJRw; wgy3T: $ret["\x61\x73\160\137\x74\141\x67\x73"]["\157\153"] = ini_get("\x61\163\x70\137\x74\141\x67\x73"); goto dNafN; aTsfm: A2EPn: goto mgHgi; inJjV: rHKXz: goto qGc3c; egV1S: if (!($sitename != $siteroot . "\xe7\x9a\204\xe7\253\231\xe7\x82\271")) { goto OOLIP; } goto Xr8NM; a1qaJ: if ($user_result) { goto rHKXz; } goto c5xjd; DdL1F: if ($ret["\146\157\160\145\156"]["\157\x6b"]) { goto A7j5Q; } goto cFTcw; lV8s5: BWCwt: goto J1W8N; O3Ca1: y7haG: goto w1g2D; XCt8u: oIN6O: goto zHHRs; wbobe: zQbUx: goto S2Lcf; xPNPV: if (empty($code)) { goto QuLvT; } goto PraD4; f3A2R: GVDwU: goto V7uwF; xA9su: function local_mkdirs($path) { goto jp4Q4; WaH_w: gmeA9: goto E76nC; jjIPd: local_mkdirs(dirname($path)); goto WkTda; E76nC: return is_dir($path); goto OTNW3; WkTda: mkdir($path); goto WaH_w; jp4Q4: if (is_dir($path)) { goto gmeA9; } goto jjIPd; OTNW3: } goto FzuCx; rAF0n: if ($data["\x65\x72\x72\x6f\x72"] == 401) { goto rSK1h; } goto o3apg; ny9Ol: fclose($hostfile); goto g6wdQ; EdGRz: goto tHXUl; goto hejAt; orU5e: $ret["\166\x65\162\x73\151\x6f\x6e"]["\x72\x65\163\x75\154\x74"] = PHP_VERSION; goto zxWtv; qH5c2: $cdn_source_file = (we7_getcookie("\143\x64\156\x5f\163\157\x75\x72\x63\x65\137\x75\x72\154") ?: "\x68\164\164\160\x73\x3a\x2f\x2f\x63\x64\156\x2e\167\x37\56\143\143\x2f\144\x6f\x77\x6e\x6c\x6f\x61\144\57\x69\156\163\x74\141\154\x6c\x2d\61\x2e\x30\56\172\151\x70") . "\77\166\75" . time(); goto YMhGr; Nj5MZ: we7_setcookie("\151\x6d\x73\137\146\141\155\151\x6c\x79", in_array($data["\146\x61\x6d\x69\x6c\171"], array("\154", "\166", "\163", "\170")) ? $data["\146\141\155\151\154\x79"] : "\166"); goto kdOWk; qOWOE: define("\x41\x50\111\137\107\105\x54\x5f\120\101\x43\x4b\101\107\105\x5f\115\x44\x35\137\x41\116\x44\137\103\x48\125\116\x4b\x54\x4f\124\101\x4c", API_HOST . "\57\165\164\x69\x6c\x2f\x70\x61\x63\x6b\x61\x67\145\x2f\x69\x6e\163\164\141\x6c\154"); goto BZ88R; yl2nE: if (file_exists(IA_INSTALL_ROOT . "\x2f\144\141\x74\141\57\144\142\56\x6c\157\x63\x6b")) { goto bdNir; } goto scT9N; MHONS: $database_result = we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix); goto qsc08; O1bDu: touch(IA_INSTALL_ROOT . "\x2f\144\x61\164\x61\x2f\151\x6e\x73\164\141\154\x6c\56\x6c\157\x63\153"); goto ptget; gZCrE: if (!empty($data) && $data["\163\x74\141\164\x75\163"] == 1) { goto cVYnh; } goto MgVNy; gue_q: $ret["\144\x6f\155"]["\146\x61\x69\154\145\x64"] = true; goto nvOSf; YYep1: function we7_need_extension() { return array("\172\151\x70", "\160\144\157", "\x70\144\157\137\155\x79\163\161\154", "\157\160\x65\156\x73\163\x6c", "\x67\144", "\x6d\142\163\164\x72\x69\x6e\x67", "\155\x63\162\171\x70\x74", "\x63\x75\x72\x6c"); } goto I3NxA; zyr_1: BGdP1: goto j3iX5; OiKMO: if (!empty($data)) { goto x9qRe; } goto cYsDD; pTbIy: dCQOx: goto NCpq7; jXG9i: if (!($action == "\154\157\x67\151\x6e")) { goto VG7Pa; } goto zZdEt; ETiWO: goto Of19c; goto RH3QZ; nvOSf: $ret["\x64\x6f\x6d"]["\156\141\155\145"] = "\x44\117\x4d\104\157\143\165\155\145\156\x74"; goto fKUO4; DLnzd: GMSIa: goto B063e; UMv2L: $ret["\x6e\145\x74\x77\x6f\162\153\x5f\145\x6e\141\142\154\145\144"]["\x72\x65\163\x75\154\164"] = "\345\244\x96\xe7\275\x91\344\270\x8d\345\217\xaf\xe8\xae\xbf\xe9\227\256"; goto mEiPP; FcAXx: goto G8bNf; goto rLN0A; a6yyE: goto HlD8y; goto gjZ1e; qGUyv: $filename = IA_INSTALL_ROOT . "\57\x63\x68\165\156\153\x5f" . $chunk_num; goto DVWuk; o_w1b: $params["\x73\151\x67\x6e"] = getSign($params); goto coaxb; SgeTv: Bjj0r: goto Fiam_; GLy1x: function we7_update_user($username, $password) { goto hHdGe; hHdGe: global $_W, $is_https; goto CzEqs; lkXrk: $password = user_hash($password, $userinfo["\163\141\x6c\x74"]); goto xfA4J; WIiFp: $cookie["\165\151\x64"] = $userinfo["\x75\x69\x64"]; goto NQW1X; CzEqs: load()->model("\165\x73\x65\162"); goto QlUUX; Ilrw8: $secure = $is_https ? 1 : 0; goto JQQZ8; cSk7v: $cookie = array("\x6c\141\x73\164\x76\151\163\x69\164" => '', "\x6c\x61\x73\x74\x69\x70" => ''); goto WIiFp; JQQZ8: setcookie($_W["\143\157\x6e\x66\151\x67"]["\x63\157\157\153\151\145"]["\x70\162\145"] . "\137\137\x73\145\x73\x73\x69\157\x6e", $session, 0, "\57", '', $secure, true); goto Zcay1; xfA4J: $result = pdo_update("\x75\163\x65\x72\x73", array("\x75\163\145\162\x6e\141\x6d\x65" => $username, "\160\141\163\163\x77\157\x72\144" => $password), array("\165\151\144" => $userinfo["\165\151\x64"])); goto cSk7v; NQW1X: $cookie["\150\141\163\x68"] = md5($password . $userinfo["\x73\x61\x6c\x74"]); goto whjt5; whjt5: $session = install_authcode(json_encode($cookie), "\145\156\143\157\x64\x65", $_W["\143\157\x6e\x66\151\x67"]["\163\x65\x74\x74\151\156\147"]["\141\165\164\150\x6b\145\171"]); goto Ilrw8; QlUUX: $userinfo = pdo_get("\165\x73\145\162\x73", array("\165\163\x65\162\x6e\x61\155\x65" => "\141\144\155\151\x6e")); goto lkXrk; Zcay1: return $result ? true : false; goto ef20w; ef20w: } goto udf2F; p6Lsy: function we7_upgrade() { goto weIof; ggvz8: require IA_INSTALL_ROOT . "\57\x77\x65\x62\x2f\x63\x6f\x6d\x6d\157\156\x2f\x62\157\157\164\x73\164\162\141\x70\x2e\163\x79\163\x2e\151\156\x63\x2e\x70\x68\160"; goto M27wa; s1Y6T: if (empty($updatefiles)) { goto p_Bvf; } goto ZqFcM; xAVDD: if (!(!empty($packet["\146\151\x6c\x65\x73"]) && is_array($packet["\146\151\x6c\x65\x73"]))) { goto Cq3Gj; } goto wcWZj; M27wa: load()->model("\143\154\x6f\165\144"); goto H29L8; zvBpS: GZviA: goto s1Y6T; VeBKg: return true; goto gdW5G; OZvKv: $cversion = IMS_VERSION; goto XLJR3; ZqFcM: foreach ($updatefiles as $file) { goto O03V9; KA7VB: @unlink($entry); goto BBarL; WymuJ: goto PV71m; goto RxzeR; wM1k7: cache_build_users_struct(); goto WUbLJ; BBarL: r_CZ1: goto XZr0x; RxzeR: SncJy: goto zQASo; zQASo: $evalret = (include $entry); goto bQjIN; XZr0x: PV71m: goto sz2Ow; bQjIN: if (empty($evalret)) { goto r_CZ1; } goto wM1k7; O03V9: if (!(!is_file($file) || !preg_match("\x2f\136\x75\x70\144\141\x74\145\134\x28\134\x64\x7b\61\62\175\134\55\134\144\173\61\62\x7d\x5c\x29\134\x2e\160\150\160\x24\x2f", $file))) { goto SncJy; } goto WymuJ; WUbLJ: cache_build_setting(); goto KA7VB; sz2Ow: } goto ofxIb; wcWZj: foreach ($packet["\x66\151\x6c\145\x73"] as $file) { cloud_download($file, "\146\151\x6c\x65\x73"); YFQ8o: } goto IqGNd; OIz1z: Cq3Gj: goto ze1I5; uG6Fd: OiZcc: goto xAVDD; SBLL3: AFFes: goto zvdpP; ze1I5: if (!(!empty($packet["\163\x63\x68\x65\x6d\141\x73"]) && is_array($packet["\163\x63\x68\145\x6d\x61\163"]))) { goto AFFes; } goto i0q5x; zvdpP: if (!(!empty($packet["\163\143\x72\151\x70\164\x73"]) && is_array($packet["\163\143\x72\x69\160\x74\163"]))) { goto dlLke; } goto Xloeb; ofxIb: VSLQq: goto n4MWZ; XLJR3: $crelease = IMS_RELEASE_DATE; goto Vyrxq; VueNe: $packet = cloud_build(); goto OwHAG; Xloeb: $updatefiles = array(); goto WPVK6; weIof: global $_W; goto UJHEJ; AjYfM: rmdirs($updatedir, true); goto eCxtx; C1jEM: dlLke: goto VeBKg; UJHEJ: define("\111\x4e\x5f\123\x59\123", true); goto ErHHZ; WPVK6: $updatedir = IA_INSTALL_ROOT . "\57\x64\141\x74\141\57\x75\x70\144\141\164\145\57"; goto AjYfM; IqGNd: FTdEM: goto OIz1z; sOESb: return true; goto uG6Fd; Vyrxq: foreach ($packet["\x73\143\162\151\160\x74\x73"] as $script) { goto WSvYJ; i9kEW: $updatefile = $updatedir . $fname; goto XTAak; fWFSt: $script["\x73\x63\x72\x69\160\x74"] = @base64_decode($script["\x73\x63\162\151\x70\164"]); goto jXYr4; Rhqif: goto mUJoR; goto XNmwI; XNmwI: IzIe9: goto XguKh; jXYr4: if (!empty($script["\x73\143\162\x69\x70\164"])) { goto xmkiM; } goto EaNsG; XTAak: file_put_contents($updatefile, $script["\x73\143\x72\151\x70\164"]); goto PcM7K; EaNsG: $script["\163\x63\x72\x69\x70\164"] = <<<DAT
<?php
load()->model('setting');
setting_upgrade_version('{$packet["\x66\141\155\x69\x6c\x79"]}', '{$script["\166\x65\162\163\151\157\156"]}', '{$script["\162\x65\154\145\x61\x73\x65"]}');
return true;
DAT;
goto nUz3k; WSvYJ: if (!($script["\x72\145\x6c\145\x61\x73\145"] <= $crelease)) { goto IzIe9; } goto Rhqif; xvhYL: mUJoR: goto mgiwm; PcM7K: $updatefiles[] = $updatefile; goto xvhYL; nUz3k: xmkiM: goto i9kEW; aTtme: $crelease = $script["\162\145\154\145\141\163\x65"]; goto fWFSt; XguKh: $fname = "\165\x70\144\141\164\x65\x28{$crelease}\55{$script["\x72\x65\154\x65\x61\163\x65"]}\51\x2e\x70\150\160"; goto aTtme; mgiwm: } goto zvBpS; i0q5x: foreach ($packet["\163\x63\150\145\155\x61\163"] as $schema) { goto eRofq; y5vTV: $local = db_table_schema(pdo(), $tablename); goto NtxJx; eRofq: $tablename = substr($schema["\164\x61\142\154\145\156\141\x6d\x65"], 4); goto y5vTV; gwhDF: foreach ($sqls as $sql) { pdo_query($sql); VpZb2: } goto IDOQ9; NtxJx: $sqls = db_table_fix_sql($local, $schema); goto gwhDF; rmykB: iY0a_: goto SImXK; IDOQ9: qHZdu: goto rmykB; SImXK: } goto mW_cJ; H29L8: load()->func("\144\142"); goto IJhhq; OwHAG: if (!empty($packet)) { goto OiZcc; } goto sOESb; eCxtx: mkdirs($updatedir); goto OZvKv; n4MWZ: p_Bvf: goto C1jEM; ErHHZ: require IA_INSTALL_ROOT . "\57\x66\x72\141\x6d\x65\167\x6f\x72\x6b\x2f\142\x6f\x6f\x74\163\x74\x72\141\x70\x2e\x69\156\x63\56\160\x68\x70"; goto ggvz8; IJhhq: load()->func("\x66\x69\x6c\145"); goto VueNe; mW_cJ: bFF_3: goto SBLL3; gdW5G: } goto x9I8w; oTE6w: $finished = false; goto jGUAs; ilsO7: require IA_INSTALL_ROOT . "\x2f\x66\162\141\155\x65\167\157\162\x6b\57\142\x6f\x6f\164\163\164\162\141\x70\x2e\151\x6e\x63\56\160\150\160"; goto ilmVa; t0fn0: $ret["\x73\145\163\x73\x69\157\156"]["\156\x61\155\145"] = "\x73\x65\163\163\151\157\156\56\141\x75\x74\x6f\137\x73\x74\x61\x72\164\xe5\xbc\200\xe5\x90\xaf"; goto b6k2l; pQyoF: $url = $siteroot . "\x2f\151\x6e\163\164\141\x6c\x6c\56\x70\x68\x70\x3f\163\x74\145\x70\x3d\157\x61\165\x74\x68"; goto seX87; iJ98R: r1ItG: goto mnhYr; PG5yu: exit(we7_error(400, $chunk_num)); goto EaO50; HhACJ: function we7_error($num, $message = "\x73\165\143\x63\x65\163\x73") { $num = intval($num); return json_encode(array("\145\x72\x72\156\157" => $num, "\x64\141\x74\141" => $message)); } goto hJ7GV; Je5_w: if (!empty($source_size)) { goto BGdP1; } goto f9M4h; q44m_: goto BWCwt; goto Onraa; makyN: exit(we7_error(0, "\x73\x75\143\143\145\x73\163")); goto OrkW4; HxjAX: exit; goto Fo0rl; xtw39: exit; goto zuodX; N703k: c2eZ0: goto z2Rlc; WaLnE: we7_setcookie("\162\x65\x67\151\163\x74\145\162\x65\144\x5f\x73\x69\x74\x65", 1); goto Nj5MZ; mpSZ6: if ($ret["\x72\157\x6f\164"]["\x6f\x6b"]) { goto Bjj0r; } goto bH20H; b2Nnt: Utcln: goto prNd_; c5xjd: exit(we7_error(400, "\xe4\xbf\xae\xe6\x94\271\xe7\x94\250\xe6\x88\xb7\345\x90\215\xe5\257\x86\347\xa0\201\345\244\261\xe8\264\xa5\56")); goto inJjV; RH3QZ: tOIpd: goto j0mDK; yHiLv: R3m_D: goto WBhF4; Fo0rl: pByuc: goto yI4Zy; IDDg7: $db_username = trim($_POST["\165\x73\x65\162\x6e\x61\x6d\145"]); goto HLig5; nV70y: $data = we7_request_api(API_SITE_REGISTER_EXIST, array("\x75\x72\154" => $siteroot)); goto gZCrE; XSlxp: if (!(is_array($data) && isset($data["\145\162\x72\157\162"]))) { goto Utcln; } goto tI3nj; SVZ6V: if ($ret["\x64\157\155"]["\x6f\153"]) { goto oIN6O; } goto gue_q; LTZyp: aTFkz: goto vF1DV; NaN3L: eOZdL: goto yl2nE; h7HTN: if (!($i <= $chunk_total)) { goto gzZGL; } goto hFFee; cYsDD: exit(we7_error(400, $chunk_num)); goto an0RS; seX87: $callback = urlencode($url); goto J2yp3; jGUAs: o3tI9: goto oM_Vo; keo_c: exit; goto lV8s5; RtseQ: $password = trim($_POST["\160\141\163\x73\x77\157\x72\144"]); goto OGdhx; OP3g4: exit(we7_error(0, array("\164\157\164\141\154" => $data["\x63\150\x75\156\153\x5f\x74\157\164\x61\154"]))); goto p_n13; fIsoq: $ret["\x72\x6f\157\164"]["\x72\145\163\x75\x6c\164"] = "\xe6\x9c\xac\345\234\260\xe7\233\xae\xe5\xbd\x95\346\227\240\xe6\263\x95\345\x86\x99\345\205\xa5"; goto SgeTv; ftpgh: $ret["\x64\141\x74\x61"]["\162\145\x73\x75\x6c\x74"] = "\144\x61\x74\x61\347\x9b\xae\xe5\xbd\225\346\x97\xa0\xe6\263\x95\345\206\231\345\205\245"; goto aTsfm; MgVNy: $action = "\157\141\x75\x74\150"; goto EdGRz; i2ieD: nKd2S: goto sfsCd; tD3wL: $code = trim($_GET["\x63\x6f\x64\145"]); goto xPNPV; dt6Tt: $output = fread($hostfile, 8192); goto Zf5_S; dDXuX: $ret["\x66\x6f\160\x65\156"]["\x6e\141\155\x65"] = "\146\157\x70\145\x6e"; goto xnuQB; D1cZP: $ret["\144\141\164\141"]["\146\141\151\154\x65\144"] = true; goto lmczg; vymHy: $local_install = false; goto pF1IG; J2yp3: $data = we7_request_api(API_OAUTH_LOGIN_URL, array("\141\160\160\151\144" => "\167\142\71\63\71\x66\x61\65\x39\145\60\x61\x31\70\x39\144\65\146", "\x72\145\x64\151\x72\x65\x63\x74" => $callback)); goto XSlxp; Mg1oL: we7_setcookie("\x63\x68\165\156\153\137\164\157\164\141\x6c", $data["\143\150\x75\x6e\153\137\164\x6f\x74\x61\x6c"]); goto EVJEH; gSprC: $ret["\166\145\x72\163\x69\157\x6e"]["\146\141\x69\154\145\x64"] = true; goto y9BZ1; zqeyr: if (!($action == "\144\x6f\x77\156\x6c\157\x61\144")) { goto aTFkz; } goto b5B88; Isx6X: function we7_getcookie($key) { goto iKjYy; iKjYy: if (!empty($key)) { goto ye2h4; } goto nLSQz; mBZrC: $key = COOKIE_PRE . $key; goto gm2kg; nLSQz: return ''; goto uLoZa; gm2kg: return $_COOKIE[$key]; goto X1RyV; uLoZa: ye2h4: goto mBZrC; X1RyV: } goto HmFg6; zVIwn: q93sA: goto OiKMO; kEIGU: exit(we7_error(421, "\345\256\211\xe8\243\205\xe5\x8c\205\xe4\270\x8d\xe5\xae\x8c\346\225\xb4\56")); goto NaN3L; lG5ay: exit(we7_error(434, $result)); goto a6yyE; cExDM: ENxtl: goto e_YF9; FTdoR: $actions = array("\x63\150\x65\x63\x6b\137\163\151\164\145", "\157\x61\165\164\150", "\x65\x6e\166\151\x72\157\x6e\155\145\156\164", "\x69\x6e\x73\164\141\154\x6c", "\x63\150\x75\156\153\x74\157\x74\x61\x6c", "\144\x6f\167\x6e\x6c\x6f\x61\144\137\x70\x65\x72\143\145\156\x74", "\144\x6f\167\156\154\157\141\144", "\x69\156\163\164\x61\x6c\x6c", "\162\145\147\151\163\164\145\162\137\143\141\154\x6c\142\141\143\153", "\x6c\157\147\151\x6e", "\x67\145\x74\x5f\x73\x69\x74\x65\153\x65\171"); goto Zo8Fo; TJYYH: j6OTU: goto w76Nj; ou5D2: $handle_result = we7_handle_chunk(); goto G0ZMr; wzMjI: if (!($chunk_num > $chunk_total)) { goto LZjd6; } goto f3NX_; hGYvg: $server["\165\160\x6c\157\141\x64"] = @ini_get("\x66\x69\x6c\x65\137\165\160\154\x6f\x61\x64\x73") ? ini_get("\x75\x70\x6c\x6f\x61\x64\x5f\155\x61\x78\137\146\151\x6c\145\163\151\172\x65") : "\165\x6e\x6b\156\x6f\x77"; goto PPVpi; ENmNv: function we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix) { goto Vxt8n; LQXkr: Qzt5c: goto y88vn; iTTow: try { goto DnpZM; N_GBi: $error = "\346\225\xb0\346\215\256\xe5\272\x93\344\270\x8d\xe5\255\x98\xe5\x9c\xa8\344\270\224\xe5\x88\233\345\273\272\xe6\225\xb0\346\215\xae\xe5\xba\223\xe5\244\xb1\xe8\264\245\56"; goto VasWf; GCh4k: WYQ29: goto GXnAr; DRP_M: if ($link->errorCode() != "\x30\x30\x30\60\60") { goto W36G_; } goto Vk_A3; CZ8rk: $link->exec("\x53\105\x54\40\143\x68\x61\x72\141\143\x74\145\x72\x5f\x73\145\164\137\143\157\156\x6e\145\x63\x74\151\157\156\x3d\x75\164\146\x38\54\x20\143\x68\x61\162\x61\x63\164\x65\x72\137\163\145\164\x5f\162\145\163\x75\x6c\x74\163\x3d\165\164\x66\x38\54\40\x63\150\x61\162\x61\143\164\145\x72\137\x73\x65\x74\137\x63\x6c\151\145\x6e\164\75\142\x69\156\141\x72\x79"); goto yJECD; VasWf: SxgYE: goto ryn6F; w6LgH: $link->query("\103\x52\105\101\x54\x45\x20\x44\x41\x54\x41\102\x41\x53\x45\40\111\106\x20\x4e\x4f\124\x20\105\130\111\123\x54\x53\x20\140{$db["\156\141\155\145"]}\x60\40\x44\x45\x46\x41\125\x4c\124\x20\x43\x48\101\x52\x41\103\x54\105\122\40\123\x45\124\x20\165\164\146\70"); goto GaMm9; iEU3A: $error .= $errorInfo[2]; goto D2bsj; D2bsj: cWBHn: goto XpcRA; GaMm9: ic9wC: goto GCh4k; vFnhu: Mdcza: goto ZF7aA; YnSKk: W36G_: goto TVsh0; XCX5J: $statement = $link->query("\123\110\117\127\x20\124\101\x42\114\105\x53\x20\x4c\x49\x4b\x45\40\47{$db["\x70\x72\x65\146\151\170"]}\x25\x27\x3b"); goto Keok3; JJ8tj: if (!empty($fetch)) { goto SxgYE; } goto N_GBi; nIQqN: uu4JG: goto SZfpl; cAfrm: return "\346\x82\xa8\xe7\x9a\x84\xe6\x95\xb0\xe6\215\xae\xe5\272\x93\xe4\xb8\x8d\xe4\xb8\xba\xe7\xa9\xba\357\274\214\350\xaf\267\xe9\207\x8d\xe6\226\260\345\273\xba\xe7\xab\213\xe6\225\xb0\xe6\215\xae\345\272\223\346\210\226\346\230\257\xe6\270\x85\xe7\251\272\350\xaf\245\346\x95\xb0\xe6\x8d\256\345\272\x93\346\210\226\xe6\233\xb4\xe6\224\xb9\xe8\241\250\xe5\x89\x8d\347\274\200\xef\274\x81"; goto vFnhu; OUnBa: goto ic9wC; goto rN1mP; vVIuK: $errorInfo = $link->errorInfo(); goto iEU3A; JLI43: $fetch = $statement->fetch(); goto JJ8tj; Vk_A3: $statement = $link->query("\123\110\117\127\40\104\x41\124\101\102\101\x53\105\x53\40\x4c\111\x4b\105\x20\x27{$db["\156\x61\x6d\x65"]}\47\x3b"); goto WCcQA; jKfdX: if (!empty($fetch)) { goto WYQ29; } goto bhMDU; XpcRA: goto uu4JG; goto YnSKk; CxMRJ: $link->query("\103\x52\105\101\x54\105\x20\104\101\x54\x41\102\x41\x53\x45\40\x49\106\x20\x4e\117\124\x20\105\130\111\x53\x54\123\x20\140{$db["\156\141\x6d\x65"]}\140"); goto OUnBa; WCcQA: $fetch = $statement->fetch(); goto jKfdX; SZfpl: $link->exec("\125\123\x45\40{$db["\x6e\141\155\x65"]}"); goto XCX5J; bhMDU: if (substr($link->getAttribute(PDO::ATTR_SERVER_VERSION), 0, 3) > "\x34\x2e\61") { goto CkxeW; } goto CxMRJ; DU5s_: $error = $errorInfo[2]; goto nIQqN; rN1mP: CkxeW: goto w6LgH; yJECD: $link->exec("\x53\105\124\40\x73\x71\154\137\155\x6f\144\x65\75\47\x27"); goto DRP_M; ryn6F: if (!($link->errorCode() != "\60\60\x30\60\x30")) { goto cWBHn; } goto vVIuK; GXnAr: $statement = $link->query("\x53\110\x4f\127\40\104\x41\124\101\x42\101\123\105\123\x20\114\111\113\105\x20\47{$db["\x6e\x61\x6d\145"]}\47\73"); goto JLI43; TVsh0: $errorInfo = $link->errorInfo(); goto DU5s_; DnpZM: $link = new PDO("\x6d\171\163\161\x6c\x3a\150\157\163\x74\x3d{$db["\x73\x65\162\x76\145\162"]}\x3b\x70\157\x72\164\x3d{$db["\x70\157\162\164"]}", $db["\x75\x73\x65\x72\156\x61\155\x65"], $db["\x70\x61\163\163\x77\157\x72\x64"]); goto CZ8rk; Keok3: if (!$statement->fetch()) { goto Mdcza; } goto cAfrm; ZF7aA: } catch (PDOException $e) { goto D9h3w; I5SY0: iRwgf: goto yRrGV; yRrGV: $error = "\xe6\202\xa8\xe7\x9a\x84\346\x95\260\xe6\215\xae\xe5\272\x93\xe8\256\277\351\x97\256\347\224\250\346\x88\xb7\345\x90\x8d\346\x88\226\xe6\230\257\345\257\x86\347\240\x81\xe9\x94\231\350\xaf\257\x2e"; goto Gao_d; nGu2n: $error = iconv("\147\x62\x6b", "\x75\x74\x66\x38", $error); goto CpMMw; nHTLT: if (strpos($error, "\101\x63\143\x65\x73\x73\40\144\145\x6e\x69\x65\144\40\146\x6f\162\40\x75\x73\x65\162") !== false) { goto iRwgf; } goto nGu2n; D9h3w: $error = $e->getMessage(); goto nHTLT; Gao_d: Q6HhN: goto Cc2fT; CpMMw: goto Q6HhN; goto I5SY0; Cc2fT: } goto ipqeS; ye5Yv: $pieces = explode("\72", $server); goto y0vfa; UyPe4: return $error; goto LQXkr; yG2M3: return $result !== false ? true : false; goto Qfqb1; y0vfa: $db = array("\x73\145\162\x76\145\x72" => $pieces[0] == "\x31\62\67\56\x30\56\x30\x2e\x31" ? "\x6c\157\143\x61\x6c\x68\x6f\x73\164" : $pieces[0], "\160\x6f\162\164" => !empty($pieces[1]) ? $pieces[1] : "\63\63\x30\66", "\165\x73\145\162\x6e\x61\x6d\x65" => $db_username, "\x70\x61\x73\x73\167\x6f\162\x64" => $db_password, "\x70\162\x65\146\151\170" => $db_prefix, "\x6e\x61\x6d\145" => $db_name); goto iTTow; y88vn: $config = local_config(); goto jIcA_; q244C: $authkey = local_salt(8); goto TlzR9; S4U4A: epEqI: goto ye5Yv; Vxt8n: if (!(empty($server) || empty($db_username) || empty($db_password) || empty($db_name))) { goto epEqI; } goto pqv_j; ipqeS: if (empty($error)) { goto Qzt5c; } goto UyPe4; pqv_j: return false; goto S4U4A; WC_40: $result = file_put_contents(IA_INSTALL_ROOT . "\57\144\141\x74\141\x2f\143\157\x6e\146\151\147\x2e\x70\150\x70", $config); goto yG2M3; TlzR9: $config = str_replace(array("\173\x64\x62\x2d\163\x65\x72\x76\x65\x72\x7d", "\x7b\x64\x62\55\x75\163\145\x72\156\x61\x6d\145\175", "\x7b\144\142\55\x70\x61\163\x73\x77\x6f\x72\x64\175", "\x7b\x64\142\x2d\160\157\x72\x74\x7d", "\173\144\x62\x2d\x6e\x61\155\x65\x7d", "\173\x64\x62\x2d\x74\141\x62\154\x65\x70\x72\x65\175", "\173\143\157\157\x6b\151\145\160\x72\x65\x7d", "\x7b\x61\165\x74\150\x6b\x65\171\x7d", "\173\x61\164\164\141\x63\x68\x64\151\162\x7d"), array($db["\163\145\x72\x76\145\162"], $db["\x75\x73\145\x72\156\x61\155\x65"], $db["\x70\141\163\x73\167\157\162\144"], $db["\160\157\x72\x74"], $db["\x6e\141\155\x65"], $db["\160\x72\x65\x66\x69\170"], $cookiepre, $authkey, "\141\x74\x74\x61\143\x68\x6d\x65\156\x74"), $config); goto L32Fg; jIcA_: $cookiepre = local_salt(4) . "\x5f"; goto q244C; L32Fg: local_mkdirs(IA_INSTALL_ROOT . "\57\144\x61\164\x61"); goto WC_40; Qfqb1: } goto GogQv; FWPTX: $post = array("\141\143\x63\x65\163\163\137\164\x6f\153\x65\156" => $accesstoken, "\143\x68\165\x6e\153" => $chunk_num); goto DIyCP; XUArf: if (!(file_exists(IA_INSTALL_ROOT . "\x2f\x64\x61\164\141\57\x69\156\x73\x74\x61\154\x6c\56\x6c\x6f\143\153") && !in_array($action, array("\157\x61\x75\164\150", "\x6c\157\147\151\x6e", "\x67\145\164\x5f\163\151\x74\145\153\x65\x79")))) { goto pByuc; } goto q1lBo; TuD6U: $username = trim($_POST["\165\x73\145\162\x6e\x61\155\145"]); goto RtseQ; p_n13: goto h1ZyR; goto mWCN_; SU1sg: $action = in_array($action, $actions) ? $action : ''; goto XUArf; tI3nj: exit(we7_error(400, "\xe8\xaf\267\351\207\x8d\xe6\226\xb0\xe7\231\xbb\345\xbd\x95\56")); goto b2Nnt; XvUNb: if (!($username != "\x61\144\x6d\x69\x6e" || $password != "\x31\62\x33\x34\x35\66")) { goto xS95I; } goto hZWyR; FOBvi: rename("\x69\156\163\x74\141\154\x6c\56\x70\150\160", "\x69\x6e\x73\x74\x61\x6c\x6c\56\160\150\160\x2e\x62\141\153"); goto fK52i; dDqzE: WXbI3: goto wgy3T; yhTEf: $hostfile = fopen($cdn_source_file, "\x72\x62"); goto nr8yR; q1lBo: header("\154\157\143\x61\x74\x69\x6f\x6e\72\x20\56\57\x69\156\144\x65\170\x2e\x70\x68\x70"); goto HxjAX; Onraa: QuLvT: goto pQyoF; X1orq: exit(we7_error(433, "\141\143\x63\145\x73\x73\x74\157\x6b\x65\x6e\40\x65\170\x70\151\x72\145\144\x2e")); goto yfX0o; g6wdQ: we7_handle_chunk(); goto twUVP; DIyCP: $data = we7_request_api(API_GET_CHUNK_PACKAGE, $post); goto SDmbw; mWgPk: if ($sitename_result) { goto x0vBq; } goto UzMrd; BPMCe: Sc1Eo: goto FWPTX; LTiqx: $data = we7_request_api(API_GET_PACKAGE_MD5_AND_CHUNKTOTAL, array("\x61\143\x63\145\x73\163\x5f\x74\x6f\153\145\x6e" => $accesstoken)); goto K4TLS; mgHgi: foreach (we7_need_extension() as $extension) { goto FdsXv; rtlJD: Y2O_S: goto AAmub; MLArp: $ret[$extension]["\x6e\x61\155\145"] = $extension . "\xe6\211\251\xe5\xb1\225"; goto sURgG; Qti1U: nSsX_: goto rtlJD; Wwa9c: $ret[$extension]["\x66\141\151\154\x65\x64"] = true; goto MLArp; sURgG: $ret[$extension]["\162\145\163\165\154\x74"] = "\344\xb8\x8d\xe6\224\257\xe6\x8c\x81" . $extension; goto Qti1U; FdsXv: $if_ok = extension_loaded($extension); goto aKanu; aKanu: if ($if_ok) { goto nSsX_; } goto Wwa9c; AAmub: } goto mXjre; pZtNt: $post = file_get_contents("\x70\x68\160\x3a\57\x2f\151\156\160\165\164"); goto lS_Lb; w1g2D: ZLK78: goto O1bDu; u3NkS: goto aHJ7T; goto UWw9l; b5B88: $chunk_num = max(1, intval($_POST["\143\150\x75\x6e\153"])); goto N8O0Y; mXjre: VIW9d: goto yENEu; txgV1: if (!(is_array($data) && isset($data["\x65\162\x72\x6f\x72"]))) { goto iWIq1; } goto aekan; uS_D3: DmrET: goto xSS6H; OmskA: if (!($database_result !== true)) { goto r1ItG; } goto IEjec; S2Lcf: $finished = true; goto jaIcA; mnhYr: touch(IA_INSTALL_ROOT . "\57\144\141\164\x61\x2f\144\142\x2e\x6c\157\143\153"); goto PCj6c; JLV7a: uxlJW: goto fcyBB; b5tHG: exit(we7_error(400, "\xe6\234\xac\xe5\234\xb0\xe5\xae\x89\xe8\xa3\x85\xe4\270\x8d\xe5\x85\201\350\256\xb8\344\xbf\xae\346\x94\xb9\xe7\xab\231\347\x82\xb9\xe5\x90\215\xe7\xa7\xb0\x2e")); goto BJGz2; XqLwL: if (!($chunk_num == 1)) { goto DmrET; } goto SjPYm; Poprv: we7_setcookie("\141\x63\x63\x65\163\x73\164\157\x6b\145\x6e", ''); goto N703k; f3NX_: exit(we7_error(400, "\x63\150\165\x6e\153\345\xa4\247\xe4\272\x8e\xe6\234\x80\345\xa4\xa7\345\200\274")); goto khvoL; mSPU3: $ret["\162\x6f\x6f\x74"]["\x6e\x61\x6d\145"] = "\346\234\xac\345\234\260\347\233\xae\xe5\275\x95\345\206\x99\345\205\xa5"; goto fIsoq; UwAVq: header("\x63\x6f\156\x74\145\x6e\164\x2d\x74\171\160\x65\72\164\145\x78\x74\57\150\x74\x6d\154\73\143\x68\141\162\x73\x65\x74\75\165\x74\146\x2d\x38"); goto cvYg9; vGzvq: $source_size = we7_getcookie("\x63\x64\x6e\x5f\163\x6f\x75\x72\143\x65\x5f\x73\151\x7a\145"); goto Je5_w; IVYWX: if ($ret["\144\141\164\x61"]["\157\x6b"]) { goto A2EPn; } goto D1cZP; rOF97: we7_setcookie("\x70\141\143\153\x61\147\145\x5f\155\x64\65", $data["\155\x64\x35"]); goto Mg1oL; FgQol: function local_create_sql($schema, $local_create_sql) { goto V9QQV; jNDZw: aRx2Y: goto UVB3p; V9QQV: $pieces = explode("\x5f", $schema["\x63\x68\141\162\x73\x65\164"]); goto gPikP; Zsj67: $sql .= "\12\51\x20\x45\116\x47\111\x4e\105\x3d{$engine}\40\104\x45\x46\x41\x55\114\x54\x20\103\110\x41\x52\123\105\x54\x3d{$charset}\x3b\12\12"; goto KUCaA; RfAGb: $sql = "\103\122\105\x41\x54\105\x20\124\101\102\x4c\105\x20\111\106\40\116\x4f\124\x20\105\130\x49\x53\x54\123\40\x60{$schema["\x74\x61\x62\x6c\x65\156\x61\x6d\145"]}\x60\40\50\12"; goto o8DBs; KUCaA: return $sql; goto CuquF; o8DBs: foreach ($schema["\146\151\145\154\144\163"] as $value) { goto h3cmk; rOpDS: zgUzy: goto lUpTO; dkgKk: VdhBZ: goto rI01X; uuT3D: KHOND: goto NmGVc; GHL18: $default = "\x20\104\105\106\101\125\114\x54\x20\47" . $value["\x64\145\146\x61\165\x6c\x74"] . "\x27"; goto vdoa3; UIwbD: if (empty($value["\x6e\x75\154\x6c"])) { goto jugkB; } goto vaCEe; h3cmk: if (!empty($value["\154\x65\156\x67\164\x68"])) { goto TSTW3; } goto gx_YK; dhl1t: goto RwFx8; goto lgTxV; a00CI: if (isset($value["\144\145\x66\141\165\x6c\164"])) { goto fNRt9; } goto dsWg3; rguGt: $increment = ''; goto qUhch; mbyvv: $null = "\40\x4e\x4f\x54\40\x4e\125\x4c\114"; goto A7om7; sM3t6: Yj8Id: goto DWxUt; vdoa3: RwFx8: goto hBvnZ; dsWg3: $default = ''; goto dhl1t; hlNeK: goto nk5iZ; goto MHWPx; vaCEe: $null = ''; goto hlNeK; qqa9g: goto KHOND; goto J0Ejc; NmGVc: $signed = empty($value["\x73\x69\x67\156\x65\x64"]) ? "\x20\x75\x6e\163\151\x67\x6e\x65\144" : ''; goto UIwbD; J0Ejc: TSTW3: goto kdd8v; lgTxV: fNRt9: goto GHL18; DWxUt: $increment = "\40\x41\x55\124\x4f\137\x49\116\103\122\105\x4d\x45\116\124"; goto dkgKk; rI01X: $sql .= "\140{$value["\x6e\141\155\x65"]}\x60\40{$value["\x74\x79\x70\x65"]}{$length}{$signed}{$null}{$default}{$increment}\x2c\12"; goto rOpDS; MHWPx: jugkB: goto mbyvv; gx_YK: $length = ''; goto qqa9g; A7om7: nk5iZ: goto a00CI; kdd8v: $length = "\x28{$value["\x6c\145\156\x67\164\x68"]}\x29"; goto uuT3D; qUhch: goto VdhBZ; goto sM3t6; hBvnZ: if ($value["\151\x6e\x63\162\x65\155\145\156\164"]) { goto Yj8Id; } goto rguGt; lUpTO: } goto jNDZw; JixV7: $sql = rtrim($sql); goto a_5GM; KxOCr: $engine = $local_create_sql ? $schema["\x65\156\147\x69\x6e\x65"] : "\115\171\x49\x53\x41\x4d"; goto RfAGb; F34LK: QKr2o: goto JixV7; UVB3p: foreach ($schema["\x69\156\144\x65\170\145\x73"] as $value) { goto IErQa; VCSFJ: $sql .= "\113\105\131\x20\x60{$value["\x6e\141\155\145"]}\140\40\50\140{$fields}\x60\51\54\12"; goto R4O03; R4O03: Loh5_: goto aa9Lk; VCYRA: XB8HA: goto oR9Ha; aa9Lk: if (!($value["\x74\x79\160\145"] == "\x75\x6e\x69\161\165\145")) { goto gMAeT; } goto icMzQ; UE4o1: ZdAPw: goto VCYRA; jrcc1: if (!($value["\164\x79\x70\145"] == "\160\162\151\155\141\x72\171")) { goto ZdAPw; } goto HemtB; icMzQ: $sql .= "\125\x4e\x49\121\125\x45\40\x4b\105\131\40\140{$value["\x6e\x61\155\145"]}\140\40\50\x60{$fields}\x60\51\54\12"; goto AMx4u; AMx4u: gMAeT: goto jrcc1; IErQa: $fields = implode("\140\x2c\140", $value["\146\x69\145\x6c\144\163"]); goto Hk9X2; HemtB: $sql .= "\x50\x52\111\115\x41\x52\x59\40\x4b\x45\x59\x20\50\140{$fields}\x60\51\x2c\12"; goto UE4o1; Hk9X2: if (!($value["\x74\x79\160\145"] == "\151\156\x64\x65\x78")) { goto Loh5_; } goto VCSFJ; oR9Ha: } goto F34LK; a_5GM: $sql = rtrim($sql, "\54"); goto Zsj67; gPikP: $charset = $pieces[0]; goto KxOCr; CuquF: } goto mf9XX; DVWuk: $filesize = filesize($filename); goto g_KK6; of0Yh: if (!(!file_exists(IA_INSTALL_ROOT . "\57\144\x61\x74\141\x2f\151\x6e\163\164\141\x6c\154\56\154\157\x63\153") && !$registered_site && !$local_install)) { goto ZLK78; } goto Yom7A; s4IFH: $db_name = trim($_POST["\156\141\155\x65"]); goto NePHV; OGdhx: we7_finish(); goto egV1S; rLN0A: gzZGL: goto ix1Cr; p7MJ1: define("\x49\116\x5f\123\x59\x53", true); goto LlQKs; Jlznu: $ret["\146\157\160\145\x6e"]["\x6f\x6b"] = @ini_get("\141\154\154\x6f\x77\x5f\x75\162\154\137\146\x6f\160\145\156") && function_exists("\146\163\157\x63\x6b\x6f\x70\145\156"); goto DdL1F; CIhAL: if ($registered_site == 1) { goto zQqXW; } goto XqLwL; NePHV: $db_prefix = trim($_POST["\x70\162\145\x66\151\170"]); goto quBrP; cvYg9: echo "\x3c\41\144\x6f\x63\164\x79\160\145\40\150\164\x6d\x6c\x3e\15\xa\74\150\x74\x6d\154\x20\154\141\x6e\x67\x3d\42\x65\156\x22\76\15\12\x3c\150\x65\141\144\76\15\xa\40\x20\x3c\155\145\x74\141\x20\x63\x68\x61\x72\x73\x65\x74\x3d\42\165\x74\x66\x2d\70\42\76\xd\xa\40\x20\74\x74\x69\164\x6c\x65\76\x57\x65\67\111\156\163\164\x61\154\154\74\x2f\164\151\x74\154\x65\76\xd\12\x20\40\74\142\141\163\145\x20\x68\162\x65\x66\x3d\42" . $sitepath . "\x2f\151\x6e\163\x74\x61\x6c\154\56\160\x68\160\42\76\xd\12\xd\xa\x20\x20\x3c\x6d\x65\x74\141\40\156\141\155\145\75\42\166\151\x65\x77\x70\157\162\x74\42\x20\x63\157\156\164\x65\x6e\164\75\42\x77\x69\x64\164\x68\75\144\x65\166\151\x63\145\55\167\151\x64\x74\x68\x2c\40\x69\x6e\x69\x74\151\x61\x6c\55\x73\143\x61\154\145\x3d\x31\x22\76\xd\12\x20\x20\x3c\154\151\156\x6b\x20\162\x65\154\75\x22\x69\143\157\156\42\x20\x74\x79\x70\145\x3d\42\151\155\x61\x67\145\57\x78\55\x69\143\x6f\156\42\x20\x68\162\145\146\75\57\57\x63\144\x6e\56\167\67\56\143\143\57\167\x65\67\55\x69\156\x73\x74\141\154\x6c\x2f\146\x61\x76\x69\143\157\x6e\x2e\x69\143\x6f\x22\x3e\15\12\x3c\x6c\151\156\153\x20\x72\x65\x6c\x3d\x22\163\x74\x79\154\145\163\x68\x65\145\164\x22\40\x68\x72\145\x66\x3d\42\57\x2f\x63\x64\x6e\56\x77\x37\x2e\143\x63\x2f\165\x65\144\57\167\x65\67\55\151\x6e\x73\x74\141\154\154\x2f" . INSTALL_VERSION . "\57\x73\x74\x79\x6c\x65\163\56\x63\163\x73\77\x76\x3d" . time() . "\42\76\74\57\150\145\141\144\76\xd\xa\74\142\x6f\x64\x79\76\15\12\40\40\x3c\141\160\160\55\x72\157\x6f\x74\x3e\74\57\x61\160\160\55\x72\157\157\x74\76\15\xa\x3c\163\x63\162\x69\x70\x74\40\164\171\x70\145\x3d\42\x74\x65\x78\x74\x2f\152\x61\166\x61\x73\x63\x72\x69\160\x74\42\40\x73\x72\x63\x3d\42\x2f\x2f\x63\x64\x6e\x2e\x77\67\x2e\143\143\x2f\x75\145\x64\57\x77\145\x37\55\x69\156\x73\x74\141\154\154\x2f" . INSTALL_VERSION . "\57\x72\x75\156\x74\x69\x6d\145\56\x6a\163\x3f\x76\x3d" . time() . "\x22\76\74\x2f\x73\143\x72\x69\x70\x74\76\74\x73\143\x72\x69\x70\164\40\x74\171\x70\145\75\42\164\x65\x78\x74\57\152\141\166\x61\x73\143\x72\151\x70\x74\42\40\x73\x72\143\75\x22\57\57\143\144\156\56\x77\67\56\143\x63\57\165\145\x64\57\x77\x65\x37\55\151\156\163\x74\141\154\x6c\57" . INSTALL_VERSION . "\x2f\160\x6f\154\x79\146\x69\154\x6c\x73\56\x6a\163\77\166\75" . time() . "\x22\76\74\57\163\x63\x72\x69\x70\164\x3e\74\163\x63\x72\x69\x70\x74\40\x74\171\x70\x65\75\x22\164\x65\x78\x74\57\x6a\141\x76\x61\x73\143\x72\x69\x70\164\42\x20\163\x72\x63\x3d\42\x2f\x2f\143\x64\x6e\x2e\167\67\x2e\143\x63\57\165\145\144\x2f\167\x65\67\55\151\156\x73\164\141\154\x6c\57" . INSTALL_VERSION . "\57\155\141\x69\156\x2e\152\163\x3f\x76\75" . time() . "\x22\76\74\x2f\x73\x63\x72\151\160\x74\76\74\57\142\x6f\x64\x79\76\15\xa\x3c\57\150\164\x6d\x6c\76"; goto AV5nY; h31mR: function getSign($data, $appsecret = '') { goto O0G4j; upEsP: $sign = md5(http_build_query($data, '', "\46") . $appsecret); goto UzVH2; UzVH2: return $sign; goto wE11C; O0G4j: unset($data["\163\151\147\156"]); goto mnUMv; ZjB_s: reset($data); goto upEsP; mnUMv: ksort($data, SORT_STRING); goto ZjB_s; wE11C: }